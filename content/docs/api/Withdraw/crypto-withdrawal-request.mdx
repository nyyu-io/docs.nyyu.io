---
title: Crypto Withdrawal Request
description: Withdraw cryptocurrency to external wallet addresses with secure verification
---

import { Callout } from 'fumadocs-ui/components/callout';
import { Card, Cards } from 'fumadocs-ui/components/card';

<div className="relative overflow-hidden rounded-2xl bg-gradient-to-br from-orange-500/10 via-amber-500/5 to-background p-8 border border-orange-500/20 mb-8">
  <div className="relative z-10">
    <h1 className="text-3xl md:text-4xl font-bold mb-4">
      Crypto Withdrawal Request
    </h1>
    <p className="text-lg text-muted-foreground mb-4">
      Withdraw cryptocurrency assets to external wallet addresses via blockchain networks
    </p>
    <div className="inline-block px-3 py-1 rounded-full bg-orange-500/20 border border-orange-500/30 text-orange-400 text-sm font-medium">
      USER Operation
    </div>
  </div>
  <div className="absolute top-0 right-0 w-48 h-48 bg-orange-500/5 rounded-full blur-3xl"></div>
</div>

## Overview

The `cryptoWithdrawRequest` mutation allows users to request cryptocurrency withdrawals from their NYYU wallets to external blockchain addresses. This sends a withdrawal request to admins for processing and verification.

<Callout type="warn" title="Admin Approval Required">
This mutation creates a withdrawal **request** that must be approved by an administrator. It does not immediately transfer funds.
</Callout>

## GraphQL Schema

<div className="rounded-xl border border-orange-500/30 bg-gradient-to-br from-orange-500/10 to-orange-500/5 p-6 my-6">
  <div className="flex items-center gap-3 mb-4">
    <span className="text-2xl">₿</span>
    <div>
      <div className="font-bold text-lg">Mutation Schema</div>
      <div className="text-sm text-muted-foreground">Submit crypto withdrawal request</div>
    </div>
  </div>

  ```graphql
  cryptoWithdrawRequest(
    amount: Float!,
    sourceToken: String!,
    network: String!,
    des: String!,
    code: String!
  ): CryptoWithdraw
  ```
</div>

## Parameters

<div className="rounded-xl border border-blue-500/30 bg-gradient-to-br from-blue-500/10 to-blue-500/5 p-6 my-6">
  <div className="flex items-center gap-3 mb-4">
    <span className="text-2xl">📋</span>
    <div>
      <div className="font-bold text-lg">Required Parameters</div>
      <div className="text-sm text-muted-foreground">All fields are mandatory</div>
    </div>
  </div>

  <div className="space-y-3">
    <div className="p-4 rounded-lg bg-background border border-border">
      <div className="flex items-center justify-between mb-2">
        <code className="font-semibold">amount</code>
        <span className="px-2 py-1 rounded bg-orange-500/20 border border-orange-500/30 text-orange-400 text-xs font-medium">Float!</span>
      </div>
      <div className="text-sm text-muted-foreground">
        The amount of cryptocurrency to withdraw from your wallet
      </div>
    </div>

    <div className="p-4 rounded-lg bg-background border border-border">
      <div className="flex items-center justify-between mb-2">
        <code className="font-semibold">sourceToken</code>
        <span className="px-2 py-1 rounded bg-orange-500/20 border border-orange-500/30 text-orange-400 text-xs font-medium">String!</span>
      </div>
      <div className="text-sm text-muted-foreground mb-2">
        The cryptocurrency type to withdraw
      </div>
      <div className="text-xs bg-muted px-3 py-2 rounded">
        Examples: "BTC", "ETH", "USDT", "BNB", "NYYU"
      </div>
    </div>

    <div className="p-4 rounded-lg bg-background border border-border">
      <div className="flex items-center justify-between mb-2">
        <code className="font-semibold">network</code>
        <span className="px-2 py-1 rounded bg-orange-500/20 border border-orange-500/30 text-orange-400 text-xs font-medium">String!</span>
      </div>
      <div className="text-sm text-muted-foreground mb-2">
        The blockchain network for the transaction
      </div>
      <div className="text-xs bg-muted px-3 py-2 rounded">
        Examples: "ERC20", "BEP20", "TRC20", "Polygon", "Bitcoin"
      </div>
    </div>

    <div className="p-4 rounded-lg bg-background border border-border">
      <div className="flex items-center justify-between mb-2">
        <code className="font-semibold">des</code>
        <span className="px-2 py-1 rounded bg-orange-500/20 border border-orange-500/30 text-orange-400 text-xs font-medium">String!</span>
      </div>
      <div className="text-sm text-muted-foreground mb-2">
        Destination wallet address to receive the funds
      </div>
      <div className="text-xs bg-muted px-3 py-2 rounded">
        Example: "0x1234567890abcdef1234567890abcdef12345678"
      </div>
    </div>

    <div className="p-4 rounded-lg bg-background border border-border">
      <div className="flex items-center justify-between mb-2">
        <code className="font-semibold">code</code>
        <span className="px-2 py-1 rounded bg-orange-500/20 border border-orange-500/30 text-orange-400 text-xs font-medium">String!</span>
      </div>
      <div className="text-sm text-muted-foreground mb-2">
        Email verification code from <code className="bg-muted px-1 rounded">generateWithdraw</code> mutation
      </div>
      <div className="text-xs bg-muted px-3 py-2 rounded">
        Example: "123456"
      </div>
    </div>
  </div>
</div>

## Return Value

<div className="rounded-xl border border-green-500/30 bg-gradient-to-br from-green-500/10 to-green-500/5 p-6 my-6">
  <div className="flex items-center gap-3 mb-4">
    <span className="text-2xl">✅</span>
    <div>
      <div className="font-bold text-lg">CryptoWithdraw Object</div>
      <div className="text-sm text-muted-foreground">Withdrawal request details</div>
    </div>
  </div>

  ```graphql
  type CryptoWithdraw {
    id: Int!
    userId: Int!
    amount: Float!
    sourceToken: String!
    network: String!
    des: String!
    status: Int!
    createdAt: Float
    updatedAt: Float
    deniedReason: String
  }
  ```

  <div className="mt-4 grid grid-cols-1 md:grid-cols-2 gap-3">
    <div className="p-3 rounded-lg bg-background border border-border">
      <div className="font-semibold text-sm mb-2">Transaction Info</div>
      <div className="space-y-1 text-xs">
        <div><code className="bg-muted px-1 rounded">id</code> - Unique request ID</div>
        <div><code className="bg-muted px-1 rounded">userId</code> - Requesting user ID</div>
        <div><code className="bg-muted px-1 rounded">amount</code> - Withdrawal amount</div>
        <div><code className="bg-muted px-1 rounded">sourceToken</code> - Crypto type</div>
      </div>
    </div>

    <div className="p-3 rounded-lg bg-background border border-border">
      <div className="font-semibold text-sm mb-2">Status Tracking</div>
      <div className="space-y-1 text-xs">
        <div><code className="bg-muted px-1 rounded">status</code> - 0: Pending, 1: Approved, 2: Denied</div>
        <div><code className="bg-muted px-1 rounded">createdAt</code> - Request timestamp</div>
        <div><code className="bg-muted px-1 rounded">updatedAt</code> - Last update</div>
        <div><code className="bg-muted px-1 rounded">deniedReason</code> - Reason if denied</div>
      </div>
    </div>
  </div>
</div>

## Example Mutation

<div className="my-6">
  <div className="font-bold mb-3 flex items-center gap-2">
    <span>💻</span>
    <span>Withdraw 1.5 BTC to External Wallet</span>
  </div>

  ```graphql
  mutation {
    cryptoWithdrawRequest(
      amount: 1.5,
      sourceToken: "BTC",
      network: "Bitcoin",
      des: "bc1qxy2kgdygjrsqtzq2n0yrf2493p83kkfjhx0wlh",
      code: "123456"
    ) {
      id
      userId
      amount
      sourceToken
      network
      des
      status
      createdAt
      updatedAt
    }
  }
  ```

  <div className="mt-4 p-4 rounded-lg border border-border bg-muted/30">
    <div className="font-semibold text-sm mb-2">Example Response</div>
    ```json
    {
      "data": {
        "cryptoWithdrawRequest": {
          "id": 12345,
          "userId": 789,
          "amount": 1.5,
          "sourceToken": "BTC",
          "network": "Bitcoin",
          "des": "bc1qxy2kgdygjrsqtzq2n0yrf2493p83kkfjhx0wlh",
          "status": 0,
          "createdAt": 1699564800000,
          "updatedAt": 1699564800000
        }
      }
    }
    ```
  </div>
</div>

## Additional Examples

<div className="space-y-6 my-6">
  <div>
    <div className="font-bold mb-3 flex items-center gap-2">
      <span>🔷</span>
      <span>Withdraw USDT on ERC20 Network</span>
    </div>

    ```graphql
    mutation {
      cryptoWithdrawRequest(
        amount: 500.0,
        sourceToken: "USDT",
        network: "ERC20",
        des: "0x742d35Cc6634C0532925a3b844Bc9e7595f0bEb",
        code: "789012"
      ) {
        id
        status
        amount
        sourceToken
        network
      }
    }
    ```
  </div>

  <div>
    <div className="font-bold mb-3 flex items-center gap-2">
      <span>🟡</span>
      <span>Withdraw BNB on BEP20 Network</span>
    </div>

    ```graphql
    mutation {
      cryptoWithdrawRequest(
        amount: 10.0,
        sourceToken: "BNB",
        network: "BEP20",
        des: "0x8894E0a0c962CB723c1976a4421c95949bE2D4E3",
        code: "345678"
      ) {
        id
        status
        createdAt
      }
    }
    ```
  </div>
</div>

## Implementation Example

<div className="my-6">
  ```typescript
  import { gql } from 'graphql-request';

  async function withdrawCrypto(
    amount: number,
    sourceToken: string,
    network: string,
    destinationAddress: string
  ) {
    try {
      // Step 1: Generate verification code
      const codeResult = await client.request(gql`
        mutation {
          generateWithdraw
        }
      `);

      if (codeResult.generateWithdraw !== 'Success') {
        throw new Error('Failed to generate verification code');
      }

      // Step 2: Get code from user input
      const verificationCode = await promptUserForCode();

      // Step 3: Submit withdrawal request
      const withdrawal = await client.request(gql`
        mutation WithdrawCrypto(
          $amount: Float!,
          $sourceToken: String!,
          $network: String!,
          $des: String!,
          $code: String!
        ) {
          cryptoWithdrawRequest(
            amount: $amount,
            sourceToken: $sourceToken,
            network: $network,
            des: $des,
            code: $code
          ) {
            id
            amount
            sourceToken
            network
            des
            status
            createdAt
          }
        }
      `, {
        amount,
        sourceToken,
        network,
        des: destinationAddress,
        code: verificationCode
      });

      console.log('✅ Withdrawal request submitted:', withdrawal.cryptoWithdrawRequest.id);
      console.log('Status: Pending admin approval');

      return withdrawal.cryptoWithdrawRequest;

    } catch (error) {
      console.error('❌ Withdrawal failed:', error);
      throw error;
    }
  }

  // Usage
  withdrawCrypto(1.5, 'BTC', 'Bitcoin', 'bc1qxy2kgdygjrsqtzq2n0yrf2493p83kkfjhx0wlh');
  ```
</div>

## Network & Token Compatibility

<div className="rounded-xl border border-purple-500/30 bg-gradient-to-br from-purple-500/10 to-purple-500/5 p-6 my-6">
  <div className="font-bold text-lg mb-4">Common Network-Token Pairs</div>

  <div className="grid grid-cols-1 md:grid-cols-2 gap-3">
    <div className="p-4 rounded-lg bg-background border border-border">
      <div className="font-semibold text-sm mb-3">Ethereum Network (ERC20)</div>
      <div className="space-y-1 text-xs text-muted-foreground">
        <div>• ETH (Ether)</div>
        <div>• USDT (Tether)</div>
        <div>• USDC (USD Coin)</div>
        <div>• NYYU (Platform Token)</div>
        <div>• DAI, LINK, UNI, etc.</div>
      </div>
    </div>

    <div className="p-4 rounded-lg bg-background border border-border">
      <div className="font-semibold text-sm mb-3">Binance Smart Chain (BEP20)</div>
      <div className="space-y-1 text-xs text-muted-foreground">
        <div>• BNB (Binance Coin)</div>
        <div>• BUSD (Binance USD)</div>
        <div>• USDT (Tether BEP20)</div>
        <div>• CAKE (PancakeSwap)</div>
      </div>
    </div>

    <div className="p-4 rounded-lg bg-background border border-border">
      <div className="font-semibold text-sm mb-3">Bitcoin Network</div>
      <div className="space-y-1 text-xs text-muted-foreground">
        <div>• BTC (Bitcoin)</div>
        <div>Native Bitcoin blockchain</div>
      </div>
    </div>

    <div className="p-4 rounded-lg bg-background border border-border">
      <div className="font-semibold text-sm mb-3">TRON Network (TRC20)</div>
      <div className="space-y-1 text-xs text-muted-foreground">
        <div>• TRX (Tron)</div>
        <div>• USDT (Tether TRC20)</div>
        <div>• BTT, JST, etc.</div>
      </div>
    </div>
  </div>
</div>

## Security Features

<div className="rounded-xl border border-red-500/30 bg-gradient-to-br from-red-500/10 to-red-500/5 p-6 my-6">
  <div className="font-bold text-lg mb-4 flex items-center gap-2">
    <span>🔒</span>
    <span>Security Measures</span>
  </div>

  <div className="space-y-3">
    <div className="flex items-start gap-3 p-4 rounded-lg bg-background border border-border">
      <div className="text-xl">📧</div>
      <div className="flex-1">
        <div className="font-bold text-sm">Email Verification Required</div>
        <div className="text-xs text-muted-foreground mt-1">
          Must provide valid verification code from <code className="bg-muted px-1 rounded">generateWithdraw</code>
        </div>
      </div>
    </div>

    <div className="flex items-start gap-3 p-4 rounded-lg bg-background border border-border">
      <div className="text-xl">👨‍💼</div>
      <div className="flex-1">
        <div className="font-bold text-sm">Admin Approval Process</div>
        <div className="text-xs text-muted-foreground mt-1">
          All withdrawals manually reviewed and approved by administrators with 2FA
        </div>
      </div>
    </div>

    <div className="flex items-start gap-3 p-4 rounded-lg bg-background border border-border">
      <div className="text-xl">🔍</div>
      <div className="flex-1">
        <div className="font-bold text-sm">Address Validation</div>
        <div className="text-xs text-muted-foreground mt-1">
          Destination addresses validated for correct format and network compatibility
        </div>
      </div>
    </div>

    <div className="flex items-start gap-3 p-4 rounded-lg bg-background border border-border">
      <div className="text-xl">💰</div>
      <div className="flex-1">
        <div className="font-bold text-sm">Balance Verification</div>
        <div className="text-xs text-muted-foreground mt-1">
          System verifies sufficient wallet balance before creating withdrawal request
        </div>
      </div>
    </div>
  </div>
</div>

## Best Practices

<div className="space-y-3 my-6">
  <div className="p-4 rounded-lg border border-border bg-muted/30">
    <div className="flex items-start gap-3">
      <span className="text-lg">✅</span>
      <div>
        <div className="font-bold text-sm">Double-Check Destination Address</div>
        <div className="text-xs text-muted-foreground mt-1">
          Always verify the destination wallet address is correct. Crypto transactions are irreversible!
        </div>
      </div>
    </div>
  </div>

  <div className="p-4 rounded-lg border border-border bg-muted/30">
    <div className="flex items-start gap-3">
      <span className="text-lg">✅</span>
      <div>
        <div className="font-bold text-sm">Match Network to Token</div>
        <div className="text-xs text-muted-foreground mt-1">
          Ensure the network parameter matches the token type (e.g., USDT on ERC20 vs TRC20)
        </div>
      </div>
    </div>
  </div>

  <div className="p-4 rounded-lg border border-border bg-muted/30">
    <div className="flex items-start gap-3">
      <span className="text-lg">✅</span>
      <div>
        <div className="font-bold text-sm">Verify Sufficient Balance</div>
        <div className="text-xs text-muted-foreground mt-1">
          Check wallet balance before requesting withdrawal to avoid failed requests
        </div>
      </div>
    </div>
  </div>

  <div className="p-4 rounded-lg border border-border bg-muted/30">
    <div className="flex items-start gap-3">
      <span className="text-lg">✅</span>
      <div>
        <div className="font-bold text-sm">Account for Network Fees</div>
        <div className="text-xs text-muted-foreground mt-1">
          Consider blockchain network fees which may be deducted from withdrawal amount
        </div>
      </div>
    </div>
  </div>

  <div className="p-4 rounded-lg border border-border bg-muted/30">
    <div className="flex items-start gap-3">
      <span className="text-lg">⚠️</span>
      <div>
        <div className="font-bold text-sm">Test with Small Amounts First</div>
        <div className="text-xs text-muted-foreground mt-1">
          For new addresses, consider testing with a small amount before large withdrawals
        </div>
      </div>
    </div>
  </div>
</div>

## Related Operations

<Cards>
  <Card
    title="Generate Withdraw Code"
    href="/docs/api/Withdraw/generate-withdraw-code"
    description="Generate verification code required for withdrawal"
  />
  <Card
    title="Confirm Crypto Withdrawal"
    href="/docs/api/Withdraw/confirm-crypto-withdrawal-request"
    description="Admin operation to approve/deny withdrawal (ADMIN)"
  />
  <Card
    title="Change Show Status"
    href="/docs/api/Withdraw/change-withdrawal-request-show-status"
    description="Hide or show withdrawal in transaction history"
  />
  <Card
    title="Withdrawal Overview"
    href="/docs/api/Withdraw/withdraw-summary"
    description="Complete withdrawal API documentation"
  />
</Cards>

<div className="mt-8 p-6 rounded-xl border border-orange-500/30 bg-gradient-to-r from-orange-500/10 to-amber-500/10">
  <div className="flex items-center gap-3">
    <span className="text-2xl">⚠️</span>
    <div>
      <div className="font-bold">Important Reminder</div>
      <div className="text-sm text-muted-foreground">Always double-check wallet addresses and networks. Cryptocurrency transactions are irreversible once processed!</div>
    </div>
  </div>
</div>

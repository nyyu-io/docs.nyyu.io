---
title: Get Presales by Status
description: Filter and retrieve presale rounds based on their current status
---

import { Callout } from 'fumadocs-ui/components/callout';
import { Card, Cards } from 'fumadocs-ui/components/card';

<div className="relative overflow-hidden rounded-2xl border bg-gradient-to-br from-emerald-500 via-teal-600 to-cyan-700 p-8 shadow-2xl mb-8">
  <div className="absolute inset-0 bg-grid-white/10 [mask-image:linear-gradient(0deg,transparent,black)]" />
  <div className="relative">
    <div className="inline-flex items-center gap-2 rounded-full bg-white/20 px-4 py-1.5 text-xs font-medium text-white backdrop-blur-sm mb-4">
      <span className="relative flex h-2 w-2">
        <span className="animate-ping absolute inline-flex h-full w-full rounded-full bg-white opacity-75"></span>
        <span className="relative inline-flex rounded-full h-2 w-2 bg-background"></span>
      </span>
      ADMIN ONLY
    </div>
    <h1 className="text-4xl font-black text-white mb-3 tracking-tight">Get Presales by Status</h1>
    <p className="text-xl text-emerald-100 leading-relaxed max-w-3xl">
      Filter presale rounds by status to focus on pending, active, or completed token sales.
    </p>
  </div>
</div>

<Callout type="warn" title="Admin Access Required">
  This query is only accessible to users with **ADMIN** privileges. Standard users cannot view presale round details.
</Callout>

## Overview

The `getPreSaleByStatus` query enables administrators to retrieve presale rounds filtered by their current status, making it easier to manage and monitor specific stages of the presale lifecycle.

---

## GraphQL Schema

<div className="rounded-xl border border-emerald-500/30 bg-gradient-to-br from-emerald-500/10 to-teal-500/5 p-6 mb-8">

```graphql
query {
  getPreSaleByStatus(
    status: Int!
  ): [PreSale]
}
```

</div>

---

## Parameters

<div className="grid gap-4 my-6">
  <div className="rounded-lg border border-emerald-500/30 bg-background p-5 shadow-sm hover:shadow-md transition-shadow">
    <div className="flex items-start justify-between mb-3">
      <h3 className="font-bold text-lg">status</h3>
      <span className="inline-flex items-center rounded-full bg-red-500/10 px-3 py-1 text-xs font-semibold text-red-700">Required</span>
    </div>
    <p className="text-sm text-muted-foreground mb-3"><span className="font-mono text-emerald-600">Int</span></p>
    <p className="text-sm text-foreground mb-3">The status of the presale rounds to retrieve. Valid values:</p>
    <div className="space-y-2">
      <div className="flex items-center gap-3 p-2 rounded bg-yellow-500/10 border border-yellow-500/30">
        <span className="font-mono text-yellow-700 font-bold">1</span>
        <span className="text-sm text-yellow-700 dark:text-yellow-300">Pending (Not yet started)</span>
      </div>
      <div className="flex items-center gap-3 p-2 rounded bg-green-500/10 border border-green-500/30">
        <span className="font-mono text-green-700 font-bold">2</span>
        <span className="text-sm text-green-700 dark:text-green-300">Started (Currently active)</span>
      </div>
      <div className="flex items-center gap-3 p-2 rounded bg-muted/50 border border-border">
        <span className="font-mono text-foreground font-bold">3</span>
        <span className="text-sm ">Ended (Completed)</span>
      </div>
    </div>
  </div>
</div>

---

## Return Value

<div className="rounded-lg border border-green-500/30 bg-gradient-to-br from-green-500/10 to-emerald-500/5 p-6 mb-6">
  <h3 className="font-bold mb-2 flex items-center gap-2">
    <span className="text-2xl">âœ“</span>
    Success Response
  </h3>
  <p className="text-sm text-foreground mb-3">
    Returns an array of <span className="font-mono text-green-600">[PreSale]</span> objects matching the specified status, each containing:
  </p>
  <div className="space-y-2 text-sm">
    <div className="flex items-start gap-2">
      <span className="font-mono text-emerald-600 min-w-32">id</span>
      <span className="text-muted-foreground">Unique identifier for the presale round</span>
    </div>
    <div className="flex items-start gap-2">
      <span className="font-mono text-emerald-600 min-w-32">startedAt</span>
      <span className="text-muted-foreground">Start time in UNIX timestamp format</span>
    </div>
    <div className="flex items-start gap-2">
      <span className="font-mono text-emerald-600 min-w-32">endedAt</span>
      <span className="text-muted-foreground">End time in UNIX timestamp format</span>
    </div>
    <div className="flex items-start gap-2">
      <span className="font-mono text-emerald-600 min-w-32">tokenAmount</span>
      <span className="text-muted-foreground">Total tokens available in the presale</span>
    </div>
    <div className="flex items-start gap-2">
      <span className="font-mono text-emerald-600 min-w-32">tokenPrice</span>
      <span className="text-muted-foreground">Price per token during the presale</span>
    </div>
    <div className="flex items-start gap-2">
      <span className="font-mono text-emerald-600 min-w-32">conditions</span>
      <span className="text-muted-foreground">Array of custom conditions with name/value pairs</span>
    </div>
  </div>
</div>

---

## Example Usage

### Request - Get Active Presales

```graphql
query GetActivePresales {
  getPreSaleByStatus(status: 2) {
    id
    startedAt
    endedAt
    tokenAmount
    tokenPrice
    conditions {
      name
      value
    }
  }
}
```

### Response

```json
{
  "data": {
    "getPreSaleByStatus": [
      {
        "id": 12,
        "startedAt": 1704067200.0,
        "endedAt": 1706745600.0,
        "tokenAmount": 1000000.0,
        "tokenPrice": 0.5,
        "conditions": [
          {
            "name": "Minimum Purchase",
            "value": "100 tokens"
          },
          {
            "name": "Maximum Purchase",
            "value": "10000 tokens"
          },
          {
            "name": "KYC",
            "value": "Level 2 verification required"
          }
        ]
      }
    ]
  }
}
```

<Callout type="info" title="Active Presales Retrieved">
  The query successfully returned all currently active presale rounds (status: 2) with their complete details.
</Callout>

---

## Status-Specific Examples

<div className="space-y-6 my-6">
  <div className="rounded-lg border border-yellow-500/30 bg-yellow-500/10 p-6">
    <h3 className="font-bold text-yellow-700 dark:text-yellow-300 mb-3 flex items-center gap-2">
      <span className="text-2xl">â³</span>
      Pending Presales (Status: 1)
    </h3>
    <p className="text-sm text-yellow-800 mb-3">Query upcoming presale rounds that haven't started yet:</p>
    <div className="rounded bg-background p-4 border border-yellow-500/30">
      <code className="text-xs text-foreground">getPreSaleByStatus(status: 1)</code>
    </div>
  </div>

  <div className="rounded-lg border border-green-500/30 bg-green-500/10 p-6">
    <h3 className="font-bold text-green-700 dark:text-green-300 mb-3 flex items-center gap-2">
      <span className="text-2xl">ğŸŸ¢</span>
      Active Presales (Status: 2)
    </h3>
    <p className="text-sm text-green-800 mb-3">Query presale rounds that are currently accepting orders:</p>
    <div className="rounded bg-background p-4 border border-green-500/30">
      <code className="text-xs text-foreground">getPreSaleByStatus(status: 2)</code>
    </div>
  </div>

  <div className="rounded-lg border border-border bg-muted/50 p-6">
    <h3 className="font-bold mb-3 flex items-center gap-2">
      <span className="text-2xl">ğŸ”´</span>
      Completed Presales (Status: 3)
    </h3>
    <p className="text-sm text-foreground mb-3">Query presale rounds that have ended:</p>
    <div className="rounded bg-background p-4 border border-border">
      <code className="text-xs text-foreground">getPreSaleByStatus(status: 3)</code>
    </div>
  </div>
</div>

---

## Use Cases

<div className="grid gap-4 md:grid-cols-2 my-6">
  <Card className="p-6 hover:shadow-lg transition-shadow">
    <div className="text-3xl mb-3">ğŸ¯</div>
    <h3 className="font-bold mb-2">Active Sales Monitoring</h3>
    <p className="text-sm text-muted-foreground">
      Focus on currently active presales to monitor real-time sales, token allocation, and participant activity.
    </p>
  </Card>

  <Card className="p-6 hover:shadow-lg transition-shadow">
    <div className="text-3xl mb-3">ğŸ“…</div>
    <h3 className="font-bold mb-2">Upcoming Events</h3>
    <p className="text-sm text-muted-foreground">
      View pending presales to prepare marketing materials, whitelist management, and launch communications.
    </p>
  </Card>

  <Card className="p-6 hover:shadow-lg transition-shadow">
    <div className="text-3xl mb-3">ğŸ“Š</div>
    <h3 className="font-bold mb-2">Historical Analysis</h3>
    <p className="text-sm text-muted-foreground">
      Review completed presales to analyze performance, token distribution, and participant demographics.
    </p>
  </Card>

  <Card className="p-6 hover:shadow-lg transition-shadow">
    <div className="text-3xl mb-3">ğŸ””</div>
    <h3 className="font-bold mb-2">Status Notifications</h3>
    <p className="text-sm text-muted-foreground">
      Build automated alerts for status changes, such as when presales start or are about to end.
    </p>
  </Card>
</div>

---

## Best Practices

<div className="space-y-4 my-6">
  <div className="rounded-lg border-l-4 border-emerald-500 bg-emerald-500/10 p-4">
    <h4 className="font-bold text-emerald-700 dark:text-emerald-300 mb-1">ğŸ¯ Targeted Queries</h4>
    <p className="text-sm text-emerald-800">
      Use status filtering to reduce payload size and improve performance compared to querying all presales.
    </p>
  </div>

  <div className="rounded-lg border-l-4 border-teal-500 bg-teal-500/10 p-4">
    <h4 className="font-bold text-teal-700 dark:text-teal-300 mb-1">âš¡ Real-Time Updates</h4>
    <p className="text-sm text-teal-800">
      Poll active presales (status: 2) more frequently than pending or completed ones for real-time monitoring.
    </p>
  </div>

  <div className="rounded-lg border-l-4 border-cyan-500 bg-cyan-500/10 p-4">
    <h4 className="font-bold text-cyan-700 dark:text-cyan-300 mb-1">ğŸ“ˆ Performance Optimization</h4>
    <p className="text-sm text-cyan-800">
      Implement separate caching strategies for each status level based on update frequency requirements.
    </p>
  </div>

  <div className="rounded-lg border-l-4 border-emerald-500 bg-emerald-500/10 p-4">
    <h4 className="font-bold text-emerald-700 dark:text-emerald-300 mb-1">ğŸ” Status Transitions</h4>
    <p className="text-sm text-emerald-800">
      Monitor presales near their start/end times to detect status transitions and trigger appropriate actions.
    </p>
  </div>
</div>

---

## Status Workflow

<div className="rounded-lg border border-emerald-500/30 bg-background p-6 mb-6">
  <h3 className="font-bold mb-4 flex items-center gap-2">
    <span className="text-2xl">ğŸ”„</span>
    Presale Status Lifecycle
  </h3>
  <div className="flex items-center justify-between gap-4">
    <div className="flex-1 text-center">
      <div className="w-16 h-16 rounded-full bg-yellow-500/20 border-2 border-yellow-500 flex items-center justify-center text-2xl mx-auto mb-2">
        â³
      </div>
      <div className="font-bold text-yellow-700 dark:text-yellow-300">Pending</div>
      <div className="text-xs text-muted-foreground">Status: 1</div>
    </div>
    <div className="text-2xl text-muted-foreground">â†’</div>
    <div className="flex-1 text-center">
      <div className="w-16 h-16 rounded-full bg-green-500/20 border-2 border-green-500 flex items-center justify-center text-2xl mx-auto mb-2">
        ğŸŸ¢
      </div>
      <div className="font-bold text-green-700 dark:text-green-300">Started</div>
      <div className="text-xs text-muted-foreground">Status: 2</div>
    </div>
    <div className="text-2xl text-muted-foreground">â†’</div>
    <div className="flex-1 text-center">
      <div className="w-16 h-16 rounded-full bg-muted border-2 border-muted-foreground flex items-center justify-center text-2xl mx-auto mb-2">
        ğŸ”´
      </div>
      <div className="font-bold ">Ended</div>
      <div className="text-xs text-muted-foreground">Status: 3</div>
    </div>
  </div>
</div>

---

## Related Operations

<Cards>
  <Card title="Create New Presale" href="/docs/api/presale/create-new-presale">
    Create new presale rounds
  </Card>
  <Card title="Get All Presales" href="/docs/api/presale/get-presales">
    Retrieve all presale rounds
  </Card>
  <Card title="Place Presale Order" href="/docs/api/presale-payment/place-presale-order">
    Participate in active presales
  </Card>
</Cards>

---
title: Get Presale Orders by User
description: Retrieve all presale orders placed by the current authenticated user
---

import { Callout } from 'fumadocs-ui/components/callout';
import { Card, Cards } from 'fumadocs-ui/components/card';

<div className="relative overflow-hidden rounded-2xl border bg-gradient-to-br from-rose-500 via-pink-600 to-fuchsia-700 p-8 shadow-2xl mb-8">
  <div className="absolute inset-0 bg-grid-white/10 [mask-image:linear-gradient(0deg,transparent,black)]" />
  <div className="relative">
    <div className="inline-flex items-center gap-2 rounded-full bg-white/20 px-4 py-1.5 text-xs font-medium text-white backdrop-blur-sm mb-4">
      <span className="relative flex h-2 w-2">
        <span className="animate-ping absolute inline-flex h-full w-full rounded-full bg-white opacity-75"></span>
        <span className="relative inline-flex rounded-full h-2 w-2 bg-background"></span>
      </span>
      USER QUERY
    </div>
    <h1 className="text-4xl font-black text-white mb-3 tracking-tight">Get My Presale Orders</h1>
    <p className="text-xl text-rose-100 leading-relaxed max-w-3xl">
      View your complete presale order history including pending, processing, and completed orders.
    </p>
  </div>
</div>

<Callout type="info" title="User Orders">
  This query returns all presale orders for the currently authenticated user, providing a complete order history.
</Callout>

## Overview

The `getPresaleOrdersByUser` query allows users to retrieve all their presale orders across all presale rounds, making it easy to track purchases and order status.

---

## GraphQL Schema

<div className="rounded-xl border border-rose-500/30 bg-gradient-to-br from-rose-500/10 to-pink-500/5 p-6 mb-8">

```graphql
query {
  getPresaleOrdersByUser: [PreSaleOrder]
}
```

</div>

---

## Parameters

<div className="rounded-lg border border-pink-500/30 bg-gradient-to-br from-pink-500/10 to-fuchsia-500/5 p-6 mb-6">
  <h3 className="font-bold mb-2 flex items-center gap-2">
    <span className="text-2xl">📋</span>
    No Parameters Required
  </h3>
  <p className="text-sm text-foreground">
    This query automatically retrieves orders for the authenticated user. No parameters needed.
  </p>
</div>

---

## Return Value

<div className="rounded-lg border border-green-500/30 bg-gradient-to-br from-green-500/10 to-emerald-500/5 p-6 mb-6">
  <h3 className="font-bold mb-2 flex items-center gap-2">
    <span className="text-2xl">✓</span>
    Success Response
  </h3>
  <p className="text-sm text-foreground mb-3">
    Returns an array of <span className="font-mono text-green-600">[PreSaleOrder]</span> objects, each containing:
  </p>
  <div className="space-y-2 text-sm">
    <div className="flex items-start gap-2">
      <span className="font-mono text-rose-600 min-w-32">id</span>
      <span className="text-muted-foreground">Unique order identifier</span>
    </div>
    <div className="flex items-start gap-2">
      <span className="font-mono text-rose-600 min-w-32">presaleId</span>
      <span className="text-muted-foreground">Associated presale round ID</span>
    </div>
    <div className="flex items-start gap-2">
      <span className="font-mono text-rose-600 min-w-32">userId</span>
      <span className="text-muted-foreground">Your user ID</span>
    </div>
    <div className="flex items-start gap-2">
      <span className="font-mono text-rose-600 min-w-32">ndbAmount</span>
      <span className="text-muted-foreground">Token amount ordered</span>
    </div>
    <div className="flex items-start gap-2">
      <span className="font-mono text-rose-600 min-w-32">destination</span>
      <span className="text-muted-foreground">Delivery destination</span>
    </div>
    <div className="flex items-start gap-2">
      <span className="font-mono text-rose-600 min-w-32">extAddr</span>
      <span className="text-muted-foreground">External address if applicable</span>
    </div>
    <div className="flex items-start gap-2">
      <span className="font-mono text-rose-600 min-w-32">status</span>
      <span className="text-muted-foreground">Current order status</span>
    </div>
    <div className="flex items-start gap-2">
      <span className="font-mono text-rose-600 min-w-32">createdAt</span>
      <span className="text-muted-foreground">Order creation timestamp</span>
    </div>
    <div className="flex items-start gap-2">
      <span className="font-mono text-rose-600 min-w-32">updatedAt</span>
      <span className="text-muted-foreground">Last update timestamp</span>
    </div>
  </div>
</div>

---

## Example Usage

### Request

```graphql
query GetMyOrders {
  getPresaleOrdersByUser {
    id
    presaleId
    ndbAmount
    destination
    extAddr
    status
    createdAt
    updatedAt
  }
}
```

### Response

```json
{
  "data": {
    "getPresaleOrdersByUser": [
      {
        "id": 456,
        "presaleId": 12,
        "ndbAmount": 1000.0,
        "destination": 1,
        "extAddr": null,
        "status": 2,
        "createdAt": 1704067200,
        "updatedAt": 1704153600
      },
      {
        "id": 457,
        "presaleId": 12,
        "ndbAmount": 2500.0,
        "destination": 2,
        "extAddr": "0x742d35Cc6634C0532925a3b844Bc9e7595f0bEb",
        "status": 0,
        "createdAt": 1704240000,
        "updatedAt": 1704240000
      },
      {
        "id": 432,
        "presaleId": 11,
        "ndbAmount": 500.0,
        "destination": 1,
        "extAddr": null,
        "status": 2,
        "createdAt": 1702080000,
        "updatedAt": 1702166400
      }
    ]
  }
}
```

<Callout type="info" title="Orders Retrieved">
  Successfully retrieved **3** presale orders for the current user across different presale rounds.
</Callout>

---

## Use Cases

<div className="grid gap-4 md:grid-cols-2 my-6">
  <Card className="p-6 hover:shadow-lg transition-shadow">
    <div className="text-3xl mb-3">📊</div>
    <h3 className="font-bold mb-2">Order Dashboard</h3>
    <p className="text-sm text-muted-foreground">
      Display a comprehensive dashboard showing all user orders with status, amounts, and delivery information.
    </p>
  </Card>

  <Card className="p-6 hover:shadow-lg transition-shadow">
    <div className="text-3xl mb-3">📈</div>
    <h3 className="font-bold mb-2">Portfolio Tracking</h3>
    <p className="text-sm text-muted-foreground">
      Track total token allocations and investment across multiple presale rounds.
    </p>
  </Card>

  <Card className="p-6 hover:shadow-lg transition-shadow">
    <div className="text-3xl mb-3">⏳</div>
    <h3 className="font-bold mb-2">Pending Payments</h3>
    <p className="text-sm text-muted-foreground">
      Identify orders awaiting payment completion and take action to finalize purchases.
    </p>
  </Card>

  <Card className="p-6 hover:shadow-lg transition-shadow">
    <div className="text-3xl mb-3">📜</div>
    <h3 className="font-bold mb-2">Order History</h3>
    <p className="text-sm text-muted-foreground">
      View complete historical records of all presale participation for tax and accounting purposes.
    </p>
  </Card>
</div>

---

## Order Status Reference

<div className="grid gap-4 md:grid-cols-3 my-6">
  <div className="rounded-lg border border-yellow-500/30 bg-yellow-500/10 p-5">
    <div className="flex items-center gap-2 mb-2">
      <span className="text-2xl">⏳</span>
      <h4 className="font-bold text-yellow-700 dark:text-yellow-300">Status: 0</h4>
    </div>
    <p className="text-sm text-yellow-800 font-semibold">Pending Payment</p>
    <p className="text-xs text-yellow-700 mt-1">Complete payment to finalize</p>
  </div>

  <div className="rounded-lg border border-blue-500/30 bg-blue-500/10 p-5">
    <div className="flex items-center gap-2 mb-2">
      <span className="text-2xl">⏱️</span>
      <h4 className="font-bold text-blue-700 dark:text-blue-300">Status: 1</h4>
    </div>
    <p className="text-sm text-blue-800 font-semibold">Processing</p>
    <p className="text-xs text-blue-700 mt-1">Payment confirmed, processing</p>
  </div>

  <div className="rounded-lg border border-green-500/30 bg-green-500/10 p-5">
    <div className="flex items-center gap-2 mb-2">
      <span className="text-2xl">✅</span>
      <h4 className="font-bold text-green-700 dark:text-green-300">Status: 2</h4>
    </div>
    <p className="text-sm text-green-800 font-semibold">Completed</p>
    <p className="text-xs text-green-700 mt-1">Tokens delivered</p>
  </div>
</div>

---

## Best Practices

<div className="space-y-4 my-6">
  <div className="rounded-lg border-l-4 border-rose-500 bg-rose-500/10 p-4">
    <h4 className="font-bold text-rose-700 dark:text-rose-300 mb-1">🔄 Regular Polling</h4>
    <p className="text-sm text-rose-800">
      Poll this endpoint regularly to keep order status up-to-date in your UI, especially for pending orders.
    </p>
  </div>

  <div className="rounded-lg border-l-4 border-pink-500 bg-pink-500/10 p-4">
    <h4 className="font-bold text-pink-700 dark:text-pink-300 mb-1">📱 Status Notifications</h4>
    <p className="text-sm text-pink-800">
      Implement notifications for status changes to keep users informed of payment confirmations and deliveries.
    </p>
  </div>

  <div className="rounded-lg border-l-4 border-fuchsia-500 bg-fuchsia-500/10 p-4">
    <h4 className="font-bold text-fuchsia-700 dark:text-fuchsia-300 mb-1">💾 Client-Side Filtering</h4>
    <p className="text-sm text-fuchsia-800">
      Allow users to filter orders by status, presale round, or date range for better navigation.
    </p>
  </div>

  <div className="rounded-lg border-l-4 border-rose-500 bg-rose-500/10 p-4">
    <h4 className="font-bold text-rose-700 dark:text-rose-300 mb-1">📊 Data Aggregation</h4>
    <p className="text-sm text-rose-800">
      Calculate totals, averages, and summaries client-side to provide insights into user investment patterns.
    </p>
  </div>
</div>

---

## Related Operations

<Cards>
  <Card title="Place New Order" href="/docs/api/presale-orders/place-new-order">
    Create a new presale order
  </Card>
  <Card title="Get Order by ID" href="/docs/api/presale-orders/get-order-by-id">
    View specific order details
  </Card>
  <Card title="Get Order Transactions" href="/docs/api/presale-orders/get-order-transactions">
    View payment transaction history
  </Card>
  <Card title="Pay with Stripe" href="/docs/api/presale-payment/pay-with-stripe">
    Complete pending payment
  </Card>
</Cards>

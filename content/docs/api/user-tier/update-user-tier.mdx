---
title: Update User Tier
description: Modify existing tier configurations in the gamification system (Admin only)
---

import { Callout } from 'fumadocs-ui/components/callout';
import { Card, Cards } from 'fumadocs-ui/components/card';

<div className="relative overflow-hidden rounded-2xl bg-gradient-to-br from-fuchsia-500/10 via-purple-500/5 to-background p-8 border border-fuchsia-500/20 mb-8">
  <div className="relative z-10">
    <div className="flex items-center gap-3 mb-4">
      <div className="p-3 rounded-xl bg-fuchsia-500/10 border border-fuchsia-500/20">
        <span className="text-3xl">‚úèÔ∏è</span>
      </div>
      <div>
        <div className="flex items-center gap-3 mb-2">
          <h1 className="text-3xl md:text-4xl font-bold">Update User Tier</h1>
          <span className="px-3 py-1 rounded-full bg-red-500/20 text-red-400 text-xs font-bold border border-red-500/30">
            ADMIN
          </span>
        </div>
        <p className="text-lg text-muted-foreground">
          Modify tier names, points, or badges
        </p>
      </div>
    </div>
  </div>
</div>

<Callout type="warn" title="Admin Access Required">
  This mutation is accessible only to users with ADMIN privileges. Changes affect all users at that tier level.
</Callout>

## Overview

The `updateUserTier` mutation allows administrators to modify existing tier configurations. Update tier names, adjust point requirements, or refresh badge designs while preserving the tier level identifier.

## GraphQL Schema

<div className="rounded-xl border border-purple-500/30 bg-gradient-to-br from-purple-500/10 to-purple-500/5 p-6 my-6">
  <div className="flex items-center gap-3 mb-4">
    <span className="text-2xl">üîß</span>
    <div>
      <div className="font-bold text-lg">Mutation Definition</div>
      <div className="text-sm text-muted-foreground">Updates an existing tier by level</div>
    </div>
  </div>

  ```graphql
  updateUserTier(
    level: Int!
    name: String
    point: Float
    svg: String
  ): Tier
  ```
</div>

## Parameters

<div className="rounded-xl border border-fuchsia-500/30 bg-gradient-to-br from-fuchsia-500/10 to-fuchsia-500/5 p-6 my-6">
  <div className="flex items-center gap-3 mb-4">
    <span className="text-2xl">üìù</span>
    <div>
      <div className="font-bold text-lg">Update Fields</div>
      <div className="text-sm text-muted-foreground">Level is required, other fields are optional</div>
    </div>
  </div>

  <div className="space-y-3">
    <div className="p-4 rounded-lg bg-background border border-border">
      <div className="flex items-start gap-3">
        <code className="px-2 py-1 rounded bg-muted text-sm font-mono">level</code>
        <div className="flex-1">
          <div className="flex items-center gap-2 mb-1">
            <span className="text-sm font-semibold">Tier Level</span>
            <span className="px-2 py-0.5 rounded bg-blue-500/20 text-blue-400 text-xs font-mono">Int!</span>
            <span className="px-2 py-0.5 rounded bg-red-500/20 text-red-400 text-xs">Required</span>
          </div>
          <div className="text-xs text-muted-foreground">
            The level identifier of the tier to update. Cannot be changed.
          </div>
        </div>
      </div>
    </div>

    <div className="p-4 rounded-lg bg-background border border-border">
      <div className="flex items-start gap-3">
        <code className="px-2 py-1 rounded bg-muted text-sm font-mono">name</code>
        <div className="flex-1">
          <div className="flex items-center gap-2 mb-1">
            <span className="text-sm font-semibold">Tier Name</span>
            <span className="px-2 py-0.5 rounded bg-green-500/20 text-green-400 text-xs font-mono">String</span>
            <span className="px-2 py-0.5 rounded bg-blue-500/20 text-blue-400 text-xs">Optional</span>
          </div>
          <div className="text-xs text-muted-foreground">
            New display name for the tier (e.g., "Elite Bronze", "Premium Silver").
          </div>
        </div>
      </div>
    </div>

    <div className="p-4 rounded-lg bg-background border border-border">
      <div className="flex items-start gap-3">
        <code className="px-2 py-1 rounded bg-muted text-sm font-mono">point</code>
        <div className="flex-1">
          <div className="flex items-center gap-2 mb-1">
            <span className="text-sm font-semibold">Points Required</span>
            <span className="px-2 py-0.5 rounded bg-purple-500/20 text-purple-400 text-xs font-mono">Float</span>
            <span className="px-2 py-0.5 rounded bg-blue-500/20 text-blue-400 text-xs">Optional</span>
          </div>
          <div className="text-xs text-muted-foreground">
            Updated point threshold (e.g., adjust from 1000.0 to 1200.0).
          </div>
        </div>
      </div>
    </div>

    <div className="p-4 rounded-lg bg-background border border-border">
      <div className="flex items-start gap-3">
        <code className="px-2 py-1 rounded bg-muted text-sm font-mono">svg</code>
        <div className="flex-1">
          <div className="flex items-center gap-2 mb-1">
            <span className="text-sm font-semibold">Badge SVG</span>
            <span className="px-2 py-0.5 rounded bg-green-500/20 text-green-400 text-xs font-mono">String</span>
            <span className="px-2 py-0.5 rounded bg-blue-500/20 text-blue-400 text-xs">Optional</span>
          </div>
          <div className="text-xs text-muted-foreground">
            Updated SVG markup for refreshed badge design.
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

## Return Type

<div className="rounded-xl border border-violet-500/30 bg-gradient-to-br from-violet-500/10 to-violet-500/5 p-6 my-6">
  <div className="flex items-center gap-3 mb-4">
    <span className="text-2xl">üì¶</span>
    <div>
      <div className="font-bold text-lg">Updated Tier Object</div>
      <div className="text-sm text-muted-foreground">Returns the modified tier on success, null if tier not found</div>
    </div>
  </div>

  ```graphql
  type Tier {
    level: Int!
    name: String
    point: Float
    svg: String
  }
  ```
</div>

## Example Mutations

<div className="space-y-6 my-6">
  ### Update Tier Name

  ```graphql
  mutation {
    updateUserTier(
      level: 1
      name: "Elite Bronze"
    ) {
      level
      name
      point
      svg
    }
  }
  ```

  ### Adjust Point Requirement

  ```graphql
  mutation {
    updateUserTier(
      level: 2
      point: 6000.0
    ) {
      level
      name
      point
    }
  }
  ```

  ### Complete Update

  ```graphql
  mutation {
    updateUserTier(
      level: 3
      name: "Premium Gold"
      point: 20000.0
      svg: "<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'><path fill='#FFD700' d='M12 2L15.09 8.26L22 9.27L17 14.14L18.18 21.02L12 17.77L5.82 21.02L7 14.14L2 9.27L8.91 8.26L12 2Z'/></svg>"
    ) {
      level
      name
      point
      svg
    }
  }
  ```
</div>

## Example Response

<div className="rounded-xl border border-purple-500/30 bg-gradient-to-br from-purple-500/10 to-purple-500/5 p-6 my-6">
  <div className="flex items-center gap-3 mb-4">
    <span className="text-2xl">‚úÖ</span>
    <div>
      <div className="font-bold text-lg">Success Response</div>
      <div className="text-sm text-muted-foreground">Tier updated successfully</div>
    </div>
  </div>

  ```json
  {
    "data": {
      "updateUserTier": {
        "level": 1,
        "name": "Elite Bronze",
        "point": 1000,
        "svg": "<svg>...</svg>"
      }
    }
  }
  ```
</div>

## Use Cases

<div className="grid grid-cols-1 md:grid-cols-2 gap-4 my-6">
  <div className="p-5 rounded-lg border border-border bg-muted/50">
    <div className="text-xl mb-2">‚öñÔ∏è</div>
    <div className="font-bold mb-2">Rebalancing</div>
    <div className="text-sm text-muted-foreground">
      Adjust point thresholds based on user progression data and engagement metrics
    </div>
  </div>

  <div className="p-5 rounded-lg border border-border bg-muted/50">
    <div className="text-xl mb-2">üé®</div>
    <div className="font-bold mb-2">Visual Refresh</div>
    <div className="text-sm text-muted-foreground">
      Update badge designs to match new branding or seasonal themes
    </div>
  </div>

  <div className="p-5 rounded-lg border border-border bg-muted/50">
    <div className="text-xl mb-2">üè∑Ô∏è</div>
    <div className="font-bold mb-2">Rebranding</div>
    <div className="text-sm text-muted-foreground">
      Rename tiers to better reflect platform identity or user feedback
    </div>
  </div>

  <div className="p-5 rounded-lg border border-border bg-muted/50">
    <div className="text-xl mb-2">üîß</div>
    <div className="font-bold mb-2">Bug Fixes</div>
    <div className="text-sm text-muted-foreground">
      Correct typos or fix improperly configured tier settings
    </div>
  </div>
</div>

## Best Practices

<div className="space-y-3 my-6">
  <div className="p-4 rounded-lg border border-border bg-muted/30">
    <div className="flex items-start gap-3">
      <span className="text-lg">üì¢</span>
      <div className="flex-1">
        <div className="font-bold text-sm mb-1">Communicate Changes</div>
        <div className="text-xs text-muted-foreground">
          Notify users before making significant point requirement changes that might affect their current tier status
        </div>
      </div>
    </div>
  </div>

  <div className="p-4 rounded-lg border border-border bg-muted/30">
    <div className="flex items-start gap-3">
      <span className="text-lg">üéØ</span>
      <div className="flex-1">
        <div className="font-bold text-sm mb-1">Preserve Progression Logic</div>
        <div className="text-xs text-muted-foreground">
          Ensure updated point values maintain proper progression order (tier N+1 should always require more points than tier N)
        </div>
      </div>
    </div>
  </div>

  <div className="p-4 rounded-lg border border-border bg-muted/30">
    <div className="flex items-start gap-3">
      <span className="text-lg">üß™</span>
      <div className="flex-1">
        <div className="font-bold text-sm mb-1">Test Visual Changes</div>
        <div className="text-xs text-muted-foreground">
          Validate SVG badges render correctly across all platforms before deploying updates
        </div>
      </div>
    </div>
  </div>

  <div className="p-4 rounded-lg border border-border bg-muted/30">
    <div className="flex items-start gap-3">
      <span className="text-lg">üìä</span>
      <div className="flex-1">
        <div className="font-bold text-sm mb-1">Data-Driven Adjustments</div>
        <div className="text-xs text-muted-foreground">
          Use analytics to inform point threshold changes - adjust based on actual user distribution and engagement patterns
        </div>
      </div>
    </div>
  </div>

  <div className="p-4 rounded-lg border border-border bg-muted/30">
    <div className="flex items-start gap-3">
      <span className="text-lg">üîÑ</span>
      <div className="flex-1">
        <div className="font-bold text-sm mb-1">Partial Updates</div>
        <div className="text-xs text-muted-foreground">
          Only include fields you want to change - omitted fields will retain their current values
        </div>
      </div>
    </div>
  </div>
</div>

## Implementation Example

<div className="rounded-xl border border-purple-500/30 bg-gradient-to-br from-purple-500/10 to-purple-500/5 p-6 my-6">
  <div className="flex items-center gap-3 mb-4">
    <span className="text-2xl">üíª</span>
    <div>
      <div className="font-bold text-lg">Admin Implementation</div>
      <div className="text-sm text-muted-foreground">Update tiers with validation</div>
    </div>
  </div>

  ```typescript
  // Fetch current tier configuration
  const { data: currentTiers } = await client.query({
    query: gql`
      query GetTiers {
        getUserTiers {
          level
          name
          point
        }
      }
    `
  });

  // Validate new point value
  const validatePointUpdate = (level: number, newPoint: number) => {
    const sortedTiers = currentTiers.getUserTiers.sort(
      (a, b) => a.level - b.level
    );

    const prevTier = sortedTiers.find(t => t.level === level - 1);
    const nextTier = sortedTiers.find(t => t.level === level + 1);

    if (prevTier && newPoint <= prevTier.point) {
      throw new Error(`Point value must be greater than ${prevTier.name} (${prevTier.point})`);
    }

    if (nextTier && newPoint >= nextTier.point) {
      throw new Error(`Point value must be less than ${nextTier.name} (${nextTier.point})`);
    }

    return true;
  };

  // Update tier with validation
  try {
    validatePointUpdate(2, 6000);

    const { data } = await client.mutate({
      mutation: gql`
        mutation UpdateTier($level: Int!, $point: Float) {
          updateUserTier(level: $level, point: $point) {
            level
            name
            point
          }
        }
      `,
      variables: {
        level: 2,
        point: 6000
      }
    });

    console.log(`Updated tier: ${data.updateUserTier.name} to ${data.updateUserTier.point} points`);
  } catch (error) {
    console.error('Update failed:', error.message);
  }
  ```
</div>

## Impact Considerations

<div className="rounded-xl border border-orange-500/30 bg-gradient-to-br from-orange-500/10 to-orange-500/5 p-6 my-6">
  <div className="flex items-center gap-3 mb-4">
    <span className="text-2xl">‚ö°</span>
    <div>
      <div className="font-bold text-lg">User Impact</div>
      <div className="text-sm text-muted-foreground">Consider these effects before updating</div>
    </div>
  </div>

  <div className="space-y-3">
    <div className="p-4 rounded-lg bg-background border border-border">
      <div className="font-bold text-sm mb-1">Point Threshold Increases</div>
      <div className="text-xs text-muted-foreground">
        Users currently at this tier may drop to a lower tier if they don't meet the new requirement
      </div>
    </div>

    <div className="p-4 rounded-lg bg-background border border-border">
      <div className="font-bold text-sm mb-1">Point Threshold Decreases</div>
      <div className="text-xs text-muted-foreground">
        More users may become eligible for this tier, potentially reducing its prestige
      </div>
    </div>

    <div className="p-4 rounded-lg bg-background border border-border">
      <div className="font-bold text-sm mb-1">Name Changes</div>
      <div className="text-xs text-muted-foreground">
        Update all UI references and user communications to reflect new tier names
      </div>
    </div>

    <div className="p-4 rounded-lg bg-background border border-border">
      <div className="font-bold text-sm mb-1">Badge Updates</div>
      <div className="text-xs text-muted-foreground">
        Users will see new badges immediately - ensure designs are production-ready
      </div>
    </div>
  </div>
</div>

## Related Operations

<Cards>
  <Card
    title="User Tier Overview"
    description="Learn about tier types and structures"
    href="/docs/api/user-tier/user-tier-summary"
  />
  <Card
    title="Get User Tiers"
    description="Retrieve all tier configurations"
    href="/docs/api/user-tier/get-user-tiers"
  />
  <Card
    title="Add New Tier"
    description="Create new tier level (Admin)"
    href="/docs/api/user-tier/add-new-tier"
  />
  <Card
    title="Delete User Tier"
    description="Remove tier level (Admin)"
    href="/docs/api/user-tier/delete-user-tier"
  />
</Cards>

<Callout type="warn" title="System-Wide Changes">
  Updates to tier configurations affect all users at that tier level. Plan changes carefully and communicate with your user base.
</Callout>

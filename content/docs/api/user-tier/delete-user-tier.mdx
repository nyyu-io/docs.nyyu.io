---
title: Delete User Tier
description: Remove a tier level from the gamification system (Admin only)
---

import { Callout } from 'fumadocs-ui/components/callout';
import { Card, Cards } from 'fumadocs-ui/components/card';

<div className="relative overflow-hidden rounded-2xl bg-gradient-to-br from-red-500/10 via-purple-500/5 to-background p-8 border border-red-500/20 mb-8">
  <div className="relative z-10">
    <div className="flex items-center gap-3 mb-4">
      <div className="p-3 rounded-xl bg-red-500/10 border border-red-500/20">
        <span className="text-3xl">üóëÔ∏è</span>
      </div>
      <div>
        <div className="flex items-center gap-3 mb-2">
          <h1 className="text-3xl md:text-4xl font-bold">Delete User Tier</h1>
          <span className="px-3 py-1 rounded-full bg-red-500/20 text-red-400 text-xs font-bold border border-red-500/30">
            ADMIN
          </span>
        </div>
        <p className="text-lg text-muted-foreground">
          Remove tier levels from the progression system
        </p>
      </div>
    </div>
  </div>
</div>

<Callout type="error" title="Destructive Operation">
  This mutation permanently removes a tier level. This operation cannot be undone and may affect users currently at this tier.
</Callout>

## Overview

The `deleteUserTier` mutation allows administrators to remove tier levels from the gamification system. Use with extreme caution as this operation is irreversible and impacts user progression structure.

## GraphQL Schema

<div className="rounded-xl border border-red-500/30 bg-gradient-to-br from-red-500/10 to-red-500/5 p-6 my-6">
  <div className="flex items-center gap-3 mb-4">
    <span className="text-2xl">‚ö†Ô∏è</span>
    <div>
      <div className="font-bold text-lg">Mutation Definition</div>
      <div className="text-sm text-muted-foreground">Permanently removes a tier by level</div>
    </div>
  </div>

  ```graphql
  deleteUserTier(
    level: Int!
  ): Int
  ```
</div>

## Parameters

<div className="rounded-xl border border-purple-500/30 bg-gradient-to-br from-purple-500/10 to-purple-500/5 p-6 my-6">
  <div className="flex items-center gap-3 mb-4">
    <span className="text-2xl">üìù</span>
    <div>
      <div className="font-bold text-lg">Required Parameter</div>
      <div className="text-sm text-muted-foreground">Specify the tier to delete</div>
    </div>
  </div>

  <div className="p-4 rounded-lg bg-background border border-border">
    <div className="flex items-start gap-3">
      <code className="px-2 py-1 rounded bg-muted text-sm font-mono">level</code>
      <div className="flex-1">
        <div className="flex items-center gap-2 mb-1">
          <span className="text-sm font-semibold">Tier Level</span>
          <span className="px-2 py-0.5 rounded bg-blue-500/20 text-blue-400 text-xs font-mono">Int!</span>
          <span className="px-2 py-0.5 rounded bg-red-500/20 text-red-400 text-xs">Required</span>
        </div>
        <div className="text-xs text-muted-foreground">
          The unique level identifier of the tier to delete (e.g., 1, 2, 3).
        </div>
      </div>
    </div>
  </div>
</div>

## Return Type

<div className="rounded-xl border border-fuchsia-500/30 bg-gradient-to-br from-fuchsia-500/10 to-fuchsia-500/5 p-6 my-6">
  <div className="flex items-center gap-3 mb-4">
    <span className="text-2xl">üì¶</span>
    <div>
      <div className="font-bold text-lg">Deleted Level</div>
      <div className="text-sm text-muted-foreground">Returns the level of the deleted tier</div>
    </div>
  </div>

  ```graphql
  Int
  ```

  <div className="mt-4 p-4 rounded-lg bg-background border border-border">
    <div className="text-xs">
      <strong>Returns:</strong> The integer value of the deleted tier's level on success.
    </div>
  </div>
</div>

## Example Mutation

<div className="my-6">
  ```graphql
  mutation {
    deleteUserTier(level: 1)
  }
  ```
</div>

## Example Response

<div className="rounded-xl border border-purple-500/30 bg-gradient-to-br from-purple-500/10 to-purple-500/5 p-6 my-6">
  <div className="flex items-center gap-3 mb-4">
    <span className="text-2xl">‚úÖ</span>
    <div>
      <div className="font-bold text-lg">Success Response</div>
      <div className="text-sm text-muted-foreground">Tier deleted successfully</div>
    </div>
  </div>

  ```json
  {
    "data": {
      "deleteUserTier": 1
    }
  }
  ```
</div>

## Critical Warnings

<div className="rounded-xl border border-red-500/30 bg-gradient-to-br from-red-500/10 to-red-500/5 p-6 my-6">
  <div className="flex items-center gap-3 mb-4">
    <span className="text-2xl">üö®</span>
    <div>
      <div className="font-bold text-lg">Before Deletion</div>
      <div className="text-sm text-muted-foreground">Review these critical considerations</div>
    </div>
  </div>

  <div className="space-y-3">
    <div className="p-4 rounded-lg bg-background border border-border">
      <div className="flex items-start gap-3">
        <span className="text-red-500 text-lg">‚õî</span>
        <div className="flex-1">
          <div className="font-bold text-sm mb-1">Irreversible Action</div>
          <div className="text-xs text-muted-foreground">
            Deleted tiers cannot be recovered. All tier configuration data is permanently lost.
          </div>
        </div>
      </div>
    </div>

    <div className="p-4 rounded-lg bg-background border border-border">
      <div className="flex items-start gap-3">
        <span className="text-orange-500 text-lg">üë•</span>
        <div className="flex-1">
          <div className="font-bold text-sm mb-1">User Impact</div>
          <div className="text-xs text-muted-foreground">
            Users currently at this tier will need to be reassigned or may lose tier status.
          </div>
        </div>
      </div>
    </div>

    <div className="p-4 rounded-lg bg-background border border-border">
      <div className="flex items-start gap-3">
        <span className="text-yellow-500 text-lg">üîó</span>
        <div className="flex-1">
          <div className="font-bold text-sm mb-1">Progression Gaps</div>
          <div className="text-xs text-muted-foreground">
            Deleting middle tiers creates gaps in the progression ladder (e.g., levels 1, 2, 4, 5).
          </div>
        </div>
      </div>
    </div>

    <div className="p-4 rounded-lg bg-background border border-border">
      <div className="flex items-start gap-3">
        <span className="text-red-500 text-lg">üíæ</span>
        <div className="flex-1">
          <div className="font-bold text-sm mb-1">No Backup</div>
          <div className="text-xs text-muted-foreground">
            Export tier configuration before deletion if you may need to restore it later.
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

## Safe Deletion Workflow

<div className="rounded-xl border border-violet-500/30 bg-gradient-to-br from-violet-500/10 to-violet-500/5 p-6 my-6">
  <div className="flex items-center gap-3 mb-4">
    <span className="text-2xl">‚úÖ</span>
    <div>
      <div className="font-bold text-lg">Pre-Deletion Checklist</div>
      <div className="text-sm text-muted-foreground">Follow these steps to minimize impact</div>
    </div>
  </div>

  <div className="space-y-3">
    <div className="flex items-start gap-3">
      <div className="w-6 h-6 rounded-full bg-violet-500/20 flex items-center justify-center text-violet-400 text-xs font-bold flex-shrink-0">1</div>
      <div className="flex-1">
        <div className="font-bold text-sm mb-1">Audit User Distribution</div>
        <div className="text-xs text-muted-foreground">
          Check how many users are currently at the tier level you plan to delete
        </div>
      </div>
    </div>

    <div className="flex items-start gap-3">
      <div className="w-6 h-6 rounded-full bg-violet-500/20 flex items-center justify-center text-violet-400 text-xs font-bold flex-shrink-0">2</div>
      <div className="flex-1">
        <div className="font-bold text-sm mb-1">Export Configuration</div>
        <div className="text-xs text-muted-foreground">
          Save tier details (name, points, SVG) in case you need to recreate it
        </div>
      </div>
    </div>

    <div className="flex items-start gap-3">
      <div className="w-6 h-6 rounded-full bg-violet-500/20 flex items-center justify-center text-violet-400 text-xs font-bold flex-shrink-0">3</div>
      <div className="flex-1">
        <div className="font-bold text-sm mb-1">Notify Affected Users</div>
        <div className="text-xs text-muted-foreground">
          Inform users at this tier about the upcoming change and what it means for them
        </div>
      </div>
    </div>

    <div className="flex items-start gap-3">
      <div className="w-6 h-6 rounded-full bg-violet-500/20 flex items-center justify-center text-violet-400 text-xs font-bold flex-shrink-0">4</div>
      <div className="flex-1">
        <div className="font-bold text-sm mb-1">Plan User Migration</div>
        <div className="text-xs text-muted-foreground">
          Decide how users will be reassigned to remaining tiers (nearest lower tier, manual assignment, etc.)
        </div>
      </div>
    </div>

    <div className="flex items-start gap-3">
      <div className="w-6 h-6 rounded-full bg-violet-500/20 flex items-center justify-center text-violet-400 text-xs font-bold flex-shrink-0">5</div>
      <div className="flex-1">
        <div className="font-bold text-sm mb-1">Execute Deletion</div>
        <div className="text-xs text-muted-foreground">
          Perform the deletion during low-traffic periods to minimize user disruption
        </div>
      </div>
    </div>

    <div className="flex items-start gap-3">
      <div className="w-6 h-6 rounded-full bg-violet-500/20 flex items-center justify-center text-violet-400 text-xs font-bold flex-shrink-0">6</div>
      <div className="flex-1">
        <div className="font-bold text-sm mb-1">Verify System Integrity</div>
        <div className="text-xs text-muted-foreground">
          Confirm all users are properly assigned to valid tiers and progression logic still works
        </div>
      </div>
    </div>
  </div>
</div>

## Use Cases

<div className="grid grid-cols-1 md:grid-cols-2 gap-4 my-6">
  <div className="p-5 rounded-lg border border-border bg-muted/50">
    <div className="text-xl mb-2">üîÑ</div>
    <div className="font-bold mb-2">System Simplification</div>
    <div className="text-sm text-muted-foreground">
      Remove excessive tiers to streamline progression and reduce complexity
    </div>
  </div>

  <div className="p-5 rounded-lg border border-border bg-muted/50">
    <div className="text-xl mb-2">üß™</div>
    <div className="font-bold mb-2">Testing Cleanup</div>
    <div className="text-sm text-muted-foreground">
      Remove test or experimental tiers that are no longer needed
    </div>
  </div>

  <div className="p-5 rounded-lg border border-border bg-muted/50">
    <div className="text-xl mb-2">‚ôªÔ∏è</div>
    <div className="font-bold mb-2">Tier Restructuring</div>
    <div className="text-sm text-muted-foreground">
      Delete obsolete tiers when completely redesigning the progression system
    </div>
  </div>

  <div className="p-5 rounded-lg border border-border bg-muted/50">
    <div className="text-xl mb-2">üéØ</div>
    <div className="font-bold mb-2">Event Conclusion</div>
    <div className="text-sm text-muted-foreground">
      Remove limited-time special tiers after promotional events end
    </div>
  </div>
</div>

## Implementation Example

<div className="rounded-xl border border-purple-500/30 bg-gradient-to-br from-purple-500/10 to-purple-500/5 p-6 my-6">
  <div className="flex items-center gap-3 mb-4">
    <span className="text-2xl">üíª</span>
    <div>
      <div className="font-bold text-lg">Safe Deletion Implementation</div>
      <div className="text-sm text-muted-foreground">With validation and backup</div>
    </div>
  </div>

  ```typescript
  // Step 1: Fetch and backup tier configuration
  const { data: tiers } = await client.query({
    query: gql`
      query GetTiers {
        getUserTiers {
          level
          name
          point
          svg
        }
      }
    `
  });

  const tierToDelete = tiers.getUserTiers.find(t => t.level === 1);

  // Create backup
  const backup = {
    ...tierToDelete,
    deletedAt: new Date().toISOString()
  };
  console.log('Tier backup:', JSON.stringify(backup, null, 2));

  // Step 2: Validate deletion won't break progression
  const validateDeletion = (level: number) => {
    const sortedTiers = tiers.getUserTiers.sort((a, b) => a.level - b.level);
    const tierIndex = sortedTiers.findIndex(t => t.level === level);

    // Don't allow deleting first or last tier
    if (tierIndex === 0) {
      throw new Error('Cannot delete the lowest tier - users need a baseline tier');
    }

    if (tierIndex === sortedTiers.length - 1) {
      throw new Error('Cannot delete the highest tier - maintain progression cap');
    }

    return true;
  };

  // Step 3: Execute deletion with confirmation
  try {
    validateDeletion(1);

    const confirmDelete = confirm(
      `‚ö†Ô∏è Delete tier "${tierToDelete.name}" (Level ${tierToDelete.level})?\n\n` +
      `This action cannot be undone.\n\n` +
      `Click OK to proceed with deletion.`
    );

    if (!confirmDelete) {
      console.log('Deletion cancelled by admin');
      return;
    }

    const { data } = await client.mutate({
      mutation: gql`
        mutation DeleteTier($level: Int!) {
          deleteUserTier(level: $level)
        }
      `,
      variables: {
        level: 1
      }
    });

    console.log(`Successfully deleted tier level ${data.deleteUserTier}`);
    console.log('Backup available:', backup);

  } catch (error) {
    console.error('Deletion failed:', error.message);
  }
  ```
</div>

## Alternative: Disable Instead of Delete

<div className="rounded-xl border border-blue-500/30 bg-gradient-to-br from-blue-500/10 to-blue-500/5 p-6 my-6">
  <div className="flex items-center gap-3 mb-4">
    <span className="text-2xl">üí°</span>
    <div>
      <div className="font-bold text-lg">Safer Alternative</div>
      <div className="text-sm text-muted-foreground">Consider these reversible options</div>
    </div>
  </div>

  <div className="space-y-3">
    <div className="p-4 rounded-lg bg-background border border-border">
      <div className="font-bold text-sm mb-1">Extremely High Point Threshold</div>
      <div className="text-xs text-muted-foreground">
        Set the tier's point requirement to an unreachable value (e.g., 999999999) to effectively disable it
      </div>
    </div>

    <div className="p-4 rounded-lg bg-background border border-border">
      <div className="font-bold text-sm mb-1">Hidden Status Flag</div>
      <div className="text-xs text-muted-foreground">
        If your system supports it, use a 'hidden' or 'disabled' flag instead of deletion
      </div>
    </div>

    <div className="p-4 rounded-lg bg-background border border-border">
      <div className="font-bold text-sm mb-1">Application-Level Filtering</div>
      <div className="text-xs text-muted-foreground">
        Filter out specific tiers in your application code rather than removing from database
      </div>
    </div>
  </div>
</div>

## Related Operations

<Cards>
  <Card
    title="User Tier Overview"
    description="Learn about tier types and structures"
    href="/docs/api/user-tier/user-tier-summary"
  />
  <Card
    title="Get User Tiers"
    description="Retrieve all tier configurations"
    href="/docs/api/user-tier/get-user-tiers"
  />
  <Card
    title="Add New Tier"
    description="Create new tier level (Admin)"
    href="/docs/api/user-tier/add-new-tier"
  />
  <Card
    title="Update User Tier"
    description="Modify tier configuration (Admin)"
    href="/docs/api/user-tier/update-user-tier"
  />
</Cards>

<Callout type="error" title="Permanent Deletion">
  This operation is irreversible. Always create backups and notify affected users before deleting tier levels. Consider using updateUserTier to disable tiers instead of deletion.
</Callout>

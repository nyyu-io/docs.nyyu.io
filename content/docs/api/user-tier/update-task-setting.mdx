---
title: Update Task Setting
description: Modify task reward configurations in the gamification system (Admin only)
---

import { Callout } from 'fumadocs-ui/components/callout';
import { Card, Cards } from 'fumadocs-ui/components/card';

<div className="relative overflow-hidden rounded-2xl bg-gradient-to-br from-violet-500/10 via-fuchsia-500/5 to-background p-8 border border-violet-500/20 mb-8">
  <div className="relative z-10">
    <div className="flex items-center gap-3 mb-4">
      <div className="p-3 rounded-xl bg-violet-500/10 border border-violet-500/20">
        <span className="text-3xl">üîÑ</span>
      </div>
      <div>
        <div className="flex items-center gap-3 mb-2">
          <h1 className="text-3xl md:text-4xl font-bold">Update Task Setting</h1>
          <span className="px-3 py-1 rounded-full bg-red-500/20 text-red-400 text-xs font-bold border border-red-500/30">
            ADMIN
          </span>
        </div>
        <p className="text-lg text-muted-foreground">
          Adjust reward points for user activities
        </p>
      </div>
    </div>
  </div>
</div>

<Callout type="warn" title="Admin Access Required">
  This mutation is accessible only to users with ADMIN privileges. Changes affect all platform users immediately.
</Callout>

## Overview

The `updateTaskSetting` mutation allows administrators to modify existing task reward configurations. Adjust verification bonuses, rebalance deposit rewards, update trading incentives, or refine staking multipliers to optimize your gamification economy.

## GraphQL Schema

<div className="rounded-xl border border-purple-500/30 bg-gradient-to-br from-purple-500/10 to-purple-500/5 p-6 my-6">
  <div className="flex items-center gap-3 mb-4">
    <span className="text-2xl">üîß</span>
    <div>
      <div className="font-bold text-lg">Mutation Definition</div>
      <div className="text-sm text-muted-foreground">Updates complete reward configuration</div>
    </div>
  </div>

  ```graphql
  updateTaskSetting(
    setting: TaskSettingInput!
  ): TaskSetting
  ```
</div>

## Parameters

<div className="rounded-xl border border-fuchsia-500/30 bg-gradient-to-br from-fuchsia-500/10 to-fuchsia-500/5 p-6 my-6">
  <div className="flex items-center gap-3 mb-4">
    <span className="text-2xl">üìù</span>
    <div>
      <div className="font-bold text-lg">TaskSettingInput</div>
      <div className="text-sm text-muted-foreground">All fields required - provides complete replacement</div>
    </div>
  </div>

  ```graphql
  input TaskSettingInput {
    verification: Float!
    wallet: [WalletTaskInput]!
    auction: Float!
    direct: Float!
    staking: [StakeTaskInput]!
  }
  ```

  <div className="mt-4 text-xs text-muted-foreground p-3 rounded bg-background border border-border">
    <strong>Note:</strong> This mutation replaces the entire configuration. Include all fields even if only updating some values.
  </div>
</div>

## Return Type

<div className="rounded-xl border border-violet-500/30 bg-gradient-to-br from-violet-500/10 to-violet-500/5 p-6 my-6">
  <div className="flex items-center gap-3 mb-4">
    <span className="text-2xl">üì¶</span>
    <div>
      <div className="font-bold text-lg">Updated TaskSetting</div>
      <div className="text-sm text-muted-foreground">Complete updated configuration</div>
    </div>
  </div>

  ```graphql
  type TaskSetting {
    id: Int!
    verification: Float
    wallet: [WalletTask]
    auction: Float
    direct: Float
    staking: [StakeTask]
  }
  ```
</div>

## Example Mutation

<div className="my-6">
  ```graphql
  mutation {
    updateTaskSetting(
      setting: {
        verification: 75.0
        wallet: [
          { amount: 100, point: 15.0 }
          { amount: 500, point: 100.0 }
          { amount: 1000, point: 250.0 }
          { amount: 5000, point: 1500.0 }
        ]
        auction: 7.0
        direct: 3.0
        staking: [
          { expiredTime: 30, ratio: 1.5 }
          { expiredTime: 90, ratio: 2.5 }
          { expiredTime: 180, ratio: 4.0 }
          { expiredTime: 365, ratio: 6.0 }
        ]
      }
    ) {
      id
      verification
      wallet {
        amount
        point
      }
      auction
      direct
      staking {
        expiredTime
        ratio
      }
    }
  }
  ```
</div>

## Example Response

<div className="rounded-xl border border-purple-500/30 bg-gradient-to-br from-purple-500/10 to-purple-500/5 p-6 my-6">
  <div className="flex items-center gap-3 mb-4">
    <span className="text-2xl">‚úÖ</span>
    <div>
      <div className="font-bold text-lg">Success Response</div>
      <div className="text-sm text-muted-foreground">Configuration updated successfully</div>
    </div>
  </div>

  ```json
  {
    "data": {
      "updateTaskSetting": {
        "id": 1,
        "verification": 75,
        "wallet": [
          { "amount": 100, "point": 15 },
          { "amount": 500, "point": 100 },
          { "amount": 1000, "point": 250 },
          { "amount": 5000, "point": 1500 }
        ],
        "auction": 7,
        "direct": 3,
        "staking": [
          { "expiredTime": 30, "ratio": 1.5 },
          { "expiredTime": 90, "ratio": 2.5 },
          { "expiredTime": 180, "ratio": 4 },
          { "expiredTime": 365, "ratio": 6 }
        ]
      }
    }
  }
  ```
</div>

## Common Update Scenarios

<div className="rounded-xl border border-fuchsia-500/30 bg-gradient-to-br from-fuchsia-500/10 to-fuchsia-500/5 p-6 my-6">
  <div className="flex items-center gap-3 mb-4">
    <span className="text-2xl">üéØ</span>
    <div>
      <div className="font-bold text-lg">Update Strategies</div>
      <div className="text-sm text-muted-foreground">When and how to adjust rewards</div>
    </div>
  </div>

  <div className="space-y-3">
    <div className="p-4 rounded-lg bg-background border border-border">
      <div className="font-bold text-sm mb-1">Increase Engagement</div>
      <div className="text-xs text-muted-foreground mb-2">Boost specific activity rewards to drive behavior</div>
      <div className="text-xs font-mono bg-muted/50 p-2 rounded">
        Increase auction: 5.0 ‚Üí 10.0 to drive bidding activity
      </div>
    </div>

    <div className="p-4 rounded-lg bg-background border border-border">
      <div className="font-bold text-sm mb-1">Rebalance Economy</div>
      <div className="text-xs text-muted-foreground mb-2">Adjust when users progress too quickly or slowly</div>
      <div className="text-xs font-mono bg-muted/50 p-2 rounded">
        Reduce all rewards by 25% if tier advancement is too rapid
      </div>
    </div>

    <div className="p-4 rounded-lg bg-background border border-border">
      <div className="font-bold text-sm mb-1">Add New Tiers</div>
      <div className="text-xs text-muted-foreground mb-2">Expand wallet or staking options</div>
      <div className="text-xs font-mono bg-muted/50 p-2 rounded">
        Add wallet tier: &#123; amount: 10000, point: 5000.0 &#125;
      </div>
    </div>

    <div className="p-4 rounded-lg bg-background border border-border">
      <div className="font-bold text-sm mb-1">Seasonal Adjustments</div>
      <div className="text-xs text-muted-foreground mb-2">Temporary boosts for promotional periods</div>
      <div className="text-xs font-mono bg-muted/50 p-2 rounded">
        Double all staking ratios during promotion month
      </div>
    </div>
  </div>
</div>

## Use Cases

<div className="grid grid-cols-1 md:grid-cols-2 gap-4 my-6">
  <div className="p-5 rounded-lg border border-border bg-muted/50">
    <div className="text-xl mb-2">‚öñÔ∏è</div>
    <div className="font-bold mb-2">Economic Rebalancing</div>
    <div className="text-sm text-muted-foreground">
      Adjust rewards based on user progression analytics and tier distribution data
    </div>
  </div>

  <div className="p-5 rounded-lg border border-border bg-muted/50">
    <div className="text-xl mb-2">üé™</div>
    <div className="font-bold mb-2">Promotional Events</div>
    <div className="text-sm text-muted-foreground">
      Temporarily increase rewards during special campaigns or seasonal events
    </div>
  </div>

  <div className="p-5 rounded-lg border border-border bg-muted/50">
    <div className="text-xl mb-2">üìà</div>
    <div className="font-bold mb-2">Growth Optimization</div>
    <div className="text-sm text-muted-foreground">
      Fine-tune specific rewards to drive desired user behaviors and platform growth
    </div>
  </div>

  <div className="p-5 rounded-lg border border-border bg-muted/50">
    <div className="text-xl mb-2">üîß</div>
    <div className="font-bold mb-2">Bug Fixes</div>
    <div className="text-sm text-muted-foreground">
      Correct misconfigured rewards or fix issues in the gamification economy
    </div>
  </div>
</div>

## Best Practices

<div className="space-y-3 my-6">
  <div className="p-4 rounded-lg border border-border bg-muted/30">
    <div className="flex items-start gap-3">
      <span className="text-lg">üìä</span>
      <div className="flex-1">
        <div className="font-bold text-sm mb-1">Data-Driven Updates</div>
        <div className="text-xs text-muted-foreground">
          Analyze user behavior and tier progression before making changes. Use metrics to guide adjustments.
        </div>
      </div>
    </div>
  </div>

  <div className="p-4 rounded-lg border border-border bg-muted/30">
    <div className="flex items-start gap-3">
      <span className="text-lg">üì¢</span>
      <div className="flex-1">
        <div className="font-bold text-sm mb-1">Communicate Changes</div>
        <div className="text-xs text-muted-foreground">
          Notify users before significant reward adjustments, especially reductions. Transparency builds trust.
        </div>
      </div>
    </div>
  </div>

  <div className="p-4 rounded-lg border border-border bg-muted/30">
    <div className="flex items-start gap-3">
      <span className="text-lg">üß™</span>
      <div className="flex-1">
        <div className="font-bold text-sm mb-1">Test Impact</div>
        <div className="text-xs text-muted-foreground">
          Calculate how changes affect tier progression times. Ensure updates don't break the gamification balance.
        </div>
      </div>
    </div>
  </div>

  <div className="p-4 rounded-lg border border-border bg-muted/30">
    <div className="flex items-start gap-3">
      <span className="text-lg">‚è±Ô∏è</span>
      <div className="flex-1">
        <div className="font-bold text-sm mb-1">Timing Matters</div>
        <div className="text-xs text-muted-foreground">
          Deploy reward changes during low-traffic periods to minimize user disruption and confusion.
        </div>
      </div>
    </div>
  </div>

  <div className="p-4 rounded-lg border border-border bg-muted/30">
    <div className="flex items-start gap-3">
      <span className="text-lg">üìù</span>
      <div className="flex-1">
        <div className="font-bold text-sm mb-1">Document Changes</div>
        <div className="text-xs text-muted-foreground">
          Keep a changelog of reward adjustments for reference and to track gamification evolution over time.
        </div>
      </div>
    </div>
  </div>

  <div className="p-4 rounded-lg border border-border bg-muted/30">
    <div className="flex items-start gap-3">
      <span className="text-lg">üîÑ</span>
      <div className="flex-1">
        <div className="font-bold text-sm mb-1">Gradual Adjustments</div>
        <div className="text-xs text-muted-foreground">
          Make incremental changes rather than dramatic shifts. Monitor impact before further adjustments.
        </div>
      </div>
    </div>
  </div>
</div>

## Implementation Example

<div className="rounded-xl border border-purple-500/30 bg-gradient-to-br from-purple-500/10 to-purple-500/5 p-6 my-6">
  <div className="flex items-center gap-3 mb-4">
    <span className="text-2xl">üíª</span>
    <div>
      <div className="font-bold text-lg">Safe Update Implementation</div>
      <div className="text-sm text-muted-foreground">Fetch current config, modify, and update</div>
    </div>
  </div>

  ```typescript
  // Step 1: Fetch current configuration
  const { data: currentConfig } = await client.query({
    query: gql`
      query GetTaskSetting {
        getTaskSetting {
          id
          verification
          wallet {
            amount
            point
          }
          auction
          direct
          staking {
            expiredTime
            ratio
          }
        }
      }
    `
  });

  // Step 2: Create modified configuration
  const updatedConfig = {
    verification: currentConfig.getTaskSetting.verification * 1.5, // 50% increase
    wallet: currentConfig.getTaskSetting.wallet.map(tier => ({
      amount: tier.amount,
      point: tier.point * 1.25 // 25% increase
    })),
    auction: currentConfig.getTaskSetting.auction,
    direct: currentConfig.getTaskSetting.direct,
    staking: currentConfig.getTaskSetting.staking.map(tier => ({
      expiredTime: tier.expiredTime,
      ratio: tier.ratio * 1.2 // 20% increase
    }))
  };

  // Step 3: Validate changes
  console.log('Current verification:', currentConfig.getTaskSetting.verification);
  console.log('New verification:', updatedConfig.verification);
  console.log('Change:', `+${((updatedConfig.verification / currentConfig.getTaskSetting.verification - 1) * 100).toFixed(1)}%`);

  // Step 4: Apply update
  const { data } = await client.mutate({
    mutation: gql`
      mutation UpdateRewards($setting: TaskSettingInput!) {
        updateTaskSetting(setting: $setting) {
          id
          verification
          wallet {
            amount
            point
          }
          auction
          direct
          staking {
            expiredTime
            ratio
          }
        }
      }
    `,
    variables: {
      setting: updatedConfig
    }
  });

  console.log('Rewards updated successfully:', data.updateTaskSetting);

  // Step 5: Notify users
  await notifyUsers({
    title: 'Reward Boost!',
    message: 'We\\'ve increased point rewards across all activities. Earn more, climb faster!'
  });
  ```
</div>

## Impact Analysis

<div className="rounded-xl border border-orange-500/30 bg-gradient-to-br from-orange-500/10 to-orange-500/5 p-6 my-6">
  <div className="flex items-center gap-3 mb-4">
    <span className="text-2xl">üìà</span>
    <div>
      <div className="font-bold text-lg">Calculate Update Impact</div>
      <div className="text-sm text-muted-foreground">Estimate effect on tier progression</div>
    </div>
  </div>

  ```typescript
  // Example: Calculate impact on tier progression
  const tierThresholds = [0, 1000, 5000, 15000, 50000]; // Tier point requirements

  const calculateProgressionTime = (dailyActivity, rewards) => {
    // Assume daily activity: 2 deposits, 10 auctions, 5 direct trades
    const dailyPoints =
      (rewards.wallet[0].point * 2) +
      (rewards.auction * 10) +
      (rewards.direct * 5);

    return tierThresholds.map((threshold, index) => ({
      tier: index,
      daysToReach: Math.ceil(threshold / dailyPoints)
    }));
  };

  // Before update
  const currentProgression = calculateProgressionTime(dailyActivity, currentConfig);

  // After update
  const newProgression = calculateProgressionTime(dailyActivity, updatedConfig);

  console.log('Progression comparison:');
  currentProgression.forEach((current, i) => {
    const updated = newProgression[i];
    console.log(`Tier ${i}: ${current.daysToReach} ‚Üí ${updated.daysToReach} days (${current.daysToReach - updated.daysToReach} day reduction)`);
  });
  ```
</div>

## Related Operations

<Cards>
  <Card
    title="User Tier Overview"
    description="Learn about tier types and structures"
    href="/docs/api/user-tier/user-tier-summary"
  />
  <Card
    title="Add Task Setting"
    description="Create task reward settings (Admin)"
    href="/docs/api/user-tier/add-new-task-setting"
  />
  <Card
    title="Get User Tiers"
    description="View tier progression"
    href="/docs/api/user-tier/get-user-tiers"
  />
  <Card
    title="Update User Tier"
    description="Modify tier configuration (Admin)"
    href="/docs/api/user-tier/update-user-tier"
  />
</Cards>

<Callout type="warn" title="Immediate Effect">
  Changes to task settings take effect immediately for all users. Plan updates carefully and communicate with your user base about significant changes.
</Callout>

---
title: Pay For Presale With PayPal
description: Create PayPal checkout orders for presale payments with redirect flow
---

import { Callout } from 'fumadocs-ui/components/callout';
import { Card, Cards } from 'fumadocs-ui/components/card';

<div className="relative overflow-hidden rounded-2xl bg-gradient-to-br from-amber-500 via-orange-600 to-yellow-700 p-8 mb-8">
  <div className="relative z-10">
    <h1 className="text-4xl md:text-5xl font-bold mb-4 text-white">
      PayPal Checkout for Presale
    </h1>
    <p className="text-xl text-white/90 mb-6">
      Accept presale payments through PayPal's secure checkout flow
    </p>
  </div>
  <div className="absolute top-0 right-0 w-96 h-96 bg-white/10 rounded-full blur-3xl"></div>
  <div className="absolute bottom-0 left-0 w-96 h-96 bg-white/5 rounded-full blur-3xl"></div>
</div>

## Mutation

<div className="rounded-xl border border-amber-500/30 bg-gradient-to-br from-amber-500/10 to-amber-500/5 p-6 my-6">
  <div className="flex items-center gap-3 mb-4">
    <span className="text-2xl">üÖøÔ∏è</span>
    <div>
      <div className="font-bold text-lg">paypalForPresale</div>
      <div className="text-sm text-muted-foreground">Create a PayPal checkout order and get redirect URL</div>
    </div>
  </div>

  ### Schema

  ```graphql
  paypalForPresale(
    presaleId: Int!
    orderId: Int!
    currencyCode: String!
  ): OrderResponseDTO
  ```
</div>

## Parameters

<div className="space-y-4 my-6">
  <div className="p-5 rounded-lg border border-border bg-muted/30">
    <div className="flex items-center gap-2 mb-2">
      <code className="bg-amber-500/20 text-amber-500 px-2 py-0.5 rounded font-mono text-sm">presaleId</code>
      <span className="text-xs bg-red-500/20 text-red-500 px-2 py-0.5 rounded font-semibold">Required</span>
    </div>
    <div className="text-sm">
      <div className="font-semibold mb-1">Type: <code className="bg-muted px-1 rounded">Int!</code></div>
      <div className="text-muted-foreground">The unique identifier of the presale round</div>
    </div>
  </div>

  <div className="p-5 rounded-lg border border-border bg-muted/30">
    <div className="flex items-center gap-2 mb-2">
      <code className="bg-amber-500/20 text-amber-500 px-2 py-0.5 rounded font-mono text-sm">orderId</code>
      <span className="text-xs bg-red-500/20 text-red-500 px-2 py-0.5 rounded font-semibold">Required</span>
    </div>
    <div className="text-sm">
      <div className="font-semibold mb-1">Type: <code className="bg-muted px-1 rounded">Int!</code></div>
      <div className="text-muted-foreground">The ID of the presale order to pay for</div>
    </div>
  </div>

  <div className="p-5 rounded-lg border border-border bg-muted/30">
    <div className="flex items-center gap-2 mb-2">
      <code className="bg-amber-500/20 text-amber-500 px-2 py-0.5 rounded font-mono text-sm">currencyCode</code>
      <span className="text-xs bg-red-500/20 text-red-500 px-2 py-0.5 rounded font-semibold">Required</span>
    </div>
    <div className="text-sm">
      <div className="font-semibold mb-1">Type: <code className="bg-muted px-1 rounded">String!</code></div>
      <div className="text-muted-foreground">The currency code for the payment (e.g., "USD", "EUR", "GBP")</div>
    </div>
  </div>
</div>

## Return Value

<div className="p-5 rounded-lg border border-green-500/30 bg-green-500/10 my-6">
  <div className="flex items-center gap-2 mb-2">
    <span className="text-lg">üì¶</span>
    <div className="font-bold">Returns OrderResponseDTO Object</div>
  </div>
  <div className="text-sm text-muted-foreground">
    Contains PayPal order ID and redirect URL for checkout
  </div>
</div>

## Example

<div className="rounded-xl border border-purple-500/30 bg-gradient-to-br from-purple-500/10 to-purple-500/5 p-6 my-6">
  <div className="flex items-center gap-3 mb-4">
    <span className="text-2xl">üíª</span>
    <div>
      <div className="font-bold">Usage Example</div>
      <div className="text-xs text-muted-foreground">Create PayPal checkout order in USD</div>
    </div>
  </div>

  ```graphql
  mutation {
    paypalForPresale(
      presaleId: 1
      orderId: 123
      currencyCode: "USD"
    ) {
      orderId
      redirectUrl
    }
  }
  ```
</div>

## Response Example

<div className="rounded-xl border border-green-500/30 bg-gradient-to-br from-green-500/10 to-green-500/5 p-6 my-6">
  <div className="flex items-center gap-3 mb-4">
    <span className="text-2xl">üì§</span>
    <div>
      <div className="font-bold">Sample Response</div>
      <div className="text-xs text-muted-foreground">PayPal order created successfully</div>
    </div>
  </div>

  ```json
  {
    "data": {
      "paypalForPresale": {
        "orderId": "5O190127TN364715T",
        "redirectUrl": "https://www.paypal.com/checkoutnow?token=5O190127TN364715T"
      }
    }
  }
  ```
</div>

## Integration Flow

<div className="rounded-xl border border-orange-500/30 bg-gradient-to-br from-orange-500/10 to-orange-500/5 p-6 my-8">
  <div className="flex items-center gap-3 mb-6">
    <span className="text-2xl">üîÑ</span>
    <div>
      <div className="font-bold text-lg">PayPal Payment Flow</div>
      <div className="text-sm text-muted-foreground">Complete checkout workflow</div>
    </div>
  </div>

  <div className="space-y-3">
    <div className="p-4 rounded-lg bg-background border border-border">
      <div className="flex items-center gap-2 mb-2">
        <span className="text-orange-500 font-bold text-lg">1</span>
        <div className="font-semibold text-sm">Create PayPal Order</div>
      </div>
      <div className="text-xs text-muted-foreground">
        Call paypalForPresale mutation to create a PayPal checkout order
      </div>
    </div>

    <div className="p-4 rounded-lg bg-background border border-border">
      <div className="flex items-center gap-2 mb-2">
        <span className="text-orange-500 font-bold text-lg">2</span>
        <div className="font-semibold text-sm">Redirect to PayPal</div>
      </div>
      <div className="text-xs text-muted-foreground">
        Redirect user to the PayPal checkout page using the redirectUrl from response
      </div>
    </div>

    <div className="p-4 rounded-lg bg-background border border-border">
      <div className="flex items-center gap-2 mb-2">
        <span className="text-orange-500 font-bold text-lg">3</span>
        <div className="font-semibold text-sm">User Completes Payment</div>
      </div>
      <div className="text-xs text-muted-foreground">
        User logs into PayPal and approves the payment
      </div>
    </div>

    <div className="p-4 rounded-lg bg-background border border-border">
      <div className="flex items-center gap-2 mb-2">
        <span className="text-orange-500 font-bold text-lg">4</span>
        <div className="font-semibold text-sm">Return to Your Site</div>
      </div>
      <div className="text-xs text-muted-foreground">
        PayPal redirects user back to your return URL with order details
      </div>
    </div>

    <div className="p-4 rounded-lg bg-background border border-border">
      <div className="flex items-center gap-2 mb-2">
        <span className="text-orange-500 font-bold text-lg">5</span>
        <div className="font-semibold text-sm">Capture Order</div>
      </div>
      <div className="text-xs text-muted-foreground">
        Call captureOrderForPresale mutation to complete the payment and update order status
      </div>
    </div>
  </div>
</div>

## Use Cases

<div className="grid grid-cols-1 md:grid-cols-2 gap-4 my-6">
  <div className="p-5 rounded-lg border border-border bg-muted/50">
    <div className="text-xl mb-2">üí∞</div>
    <div className="font-bold mb-2">PayPal Balance</div>
    <div className="text-sm text-muted-foreground">
      Allow users to pay directly from their PayPal account balance
    </div>
  </div>

  <div className="p-5 rounded-lg border border-border bg-muted/50">
    <div className="text-xl mb-2">üîó</div>
    <div className="font-bold mb-2">Linked Bank Accounts</div>
    <div className="text-sm text-muted-foreground">
      Users can pay via bank accounts linked to their PayPal
    </div>
  </div>

  <div className="p-5 rounded-lg border border-border bg-muted/50">
    <div className="text-xl mb-2">üí≥</div>
    <div className="font-bold mb-2">PayPal Credit</div>
    <div className="text-sm text-muted-foreground">
      Support for PayPal Credit and Buy Now Pay Later options
    </div>
  </div>

  <div className="p-5 rounded-lg border border-border bg-muted/50">
    <div className="text-xl mb-2">üåç</div>
    <div className="font-bold mb-2">Global Reach</div>
    <div className="text-sm text-muted-foreground">
      Accept payments from PayPal users worldwide in multiple currencies
    </div>
  </div>
</div>

## Important Notes

<div className="grid grid-cols-1 md:grid-cols-2 gap-4 my-6">
  <div className="p-5 rounded-lg border border-amber-500/30 bg-amber-500/10">
    <div className="text-xl mb-2">‚ö†Ô∏è</div>
    <div className="font-bold mb-2">Two-Step Process</div>
    <div className="text-sm text-muted-foreground">
      PayPal payments require two steps: creating the order (this mutation) and capturing it after user approval.
    </div>
  </div>

  <div className="p-5 rounded-lg border border-blue-500/30 bg-blue-500/10">
    <div className="text-xl mb-2">üîó</div>
    <div className="font-bold mb-2">Redirect Required</div>
    <div className="text-sm text-muted-foreground">
      Users must be redirected to PayPal's checkout page. This cannot be done in an iframe or popup.
    </div>
  </div>

  <div className="p-5 rounded-lg border border-green-500/30 bg-green-500/10">
    <div className="text-xl mb-2">‚úÖ</div>
    <div className="font-bold mb-2">Return URL</div>
    <div className="text-sm text-muted-foreground">
      Configure return and cancel URLs in your PayPal settings to handle post-payment redirects.
    </div>
  </div>

  <div className="p-5 rounded-lg border border-purple-500/30 bg-purple-500/10">
    <div className="text-xl mb-2">üí°</div>
    <div className="font-bold mb-2">Order Expiry</div>
    <div className="text-sm text-muted-foreground">
      PayPal orders expire after 3 hours. Users must complete checkout within this timeframe.
    </div>
  </div>
</div>

<div className="mt-8 p-6 rounded-xl border border-amber-500/30 bg-gradient-to-r from-amber-500/10 to-orange-500/10">
  <div className="flex items-center gap-3">
    <span className="text-2xl">üí°</span>
    <div>
      <div className="font-bold">Best Practice</div>
      <div className="text-sm text-muted-foreground">
        Store the PayPal orderId in your database immediately after receiving it. Handle the return URL to capture the order using the captureOrderForPresale mutation. Implement timeout handling for expired orders and provide clear user feedback during the redirect flow.
      </div>
    </div>
  </div>
</div>

---
title: Forgot Password
description: Request a password reset code via email when users forget their account credentials
---

import { Callout } from 'fumadocs-ui/components/callout';
import { Card, Cards } from 'fumadocs-ui/components/card';

<div className="relative overflow-hidden rounded-2xl border bg-gradient-to-br from-amber-600 via-orange-600 to-yellow-600 p-8 shadow-2xl mb-8">
  <div className="absolute inset-0 bg-grid-white/10 [mask-image:linear-gradient(0deg,transparent,black)]" />
  <div className="absolute top-0 right-0 w-96 h-96 bg-white/10 rounded-full blur-3xl"></div>
  <div className="relative">
    <div className="inline-flex items-center gap-2 rounded-full bg-white/20 px-4 py-1.5 text-xs font-medium text-white backdrop-blur-sm mb-4">
      <span className="relative flex h-2 w-2">
        <span className="animate-ping absolute inline-flex h-full w-full rounded-full bg-white opacity-75"></span>
        <span className="relative inline-flex rounded-full h-2 w-2 bg-background"></span>
      </span>
      PASSWORD RECOVERY
    </div>
    <h1 className="text-4xl font-black text-white mb-3 tracking-tight">Forgot Password</h1>
    <p className="text-xl text-amber-100 leading-relaxed max-w-3xl">
      Initiate the password reset process by requesting a verification code sent to the registered email address.
    </p>
  </div>
</div>

<Callout type="info" title="Step 1 of Password Reset">
  This is the **first step** in password recovery. After receiving the code, use the Reset Password endpoint to set a new password.
</Callout>

## Overview

The `forgotPassword` mutation initiates the password reset process by sending a 6-digit verification code to the user's registered email address. This code is required to complete the password reset.

---

## GraphQL Schema

<div className="rounded-xl border border-amber-500/30 bg-gradient-to-br from-amber-500/10 to-orange-500/5 p-6 mb-8">

```graphql
mutation {
  forgotPassword(
    email: String!
  ): String!
}
```

</div>

---

## Parameters

<div className="grid gap-4 md:grid-cols-2 lg:grid-cols-3 my-6">
  <div className="rounded-lg border border-amber-500/30 bg-background p-5 shadow-sm hover:shadow-md transition-shadow">
    <div className="flex items-start justify-between mb-3">
      <h3 className="font-bold text-lg">email</h3>
      <span className="inline-flex items-center rounded-full bg-red-500/10 px-3 py-1 text-xs font-semibold text-red-700 dark:text-red-300">Required</span>
    </div>
    <p className="text-sm text-muted-foreground mb-2"><span className="font-mono text-amber-600 dark:text-amber-400">String</span></p>
    <p className="text-sm text-foreground">Email address of the account requiring password reset. Must be a registered email.</p>
  </div>
</div>

---

## Return Values

<div className="grid gap-4 my-6">
  <div className="rounded-lg border border-green-500/30 bg-gradient-to-br from-green-500/10 to-emerald-500/5 p-6">
    <div className="flex items-center gap-3 mb-2">
      <span className="text-2xl">âœ…</span>
      <code className="bg-green-500/20 text-green-700 dark:text-green-300 px-3 py-1 rounded font-mono text-sm">Success</code>
    </div>
    <p className="text-sm text-foreground">
      Password reset code has been successfully sent to the email address. Check inbox for 6-digit code.
    </p>
  </div>

  <div className="rounded-lg border border-red-500/30 bg-gradient-to-br from-red-500/10 to-rose-500/5 p-6">
    <div className="flex items-center gap-3 mb-2">
      <span className="text-2xl">âŒ</span>
      <code className="bg-red-500/20 text-red-700 dark:text-red-300 px-3 py-1 rounded font-mono text-sm">failed</code>
    </div>
    <p className="text-sm text-foreground">
      Request failed. Email address may not be registered or there was an error processing the request.
    </p>
  </div>
</div>

---

## Example Usage

### Request Password Reset

```graphql
mutation RequestPasswordReset {
  forgotPassword(
    email: "demouser@nyyu.io"
  )
}
```

**Response:**

```json
{
  "data": {
    "forgotPassword": "Success"
  }
}
```

<Callout type="info" title="Check Your Email">
  A 6-digit password reset code has been sent to **demouser@nyyu.io**. Use this code with the Reset Password endpoint to set a new password.
</Callout>

### Failed Request

```json
{
  "data": {
    "forgotPassword": "failed"
  }
}
```

<Callout type="error" title="Request Failed">
  Unable to send reset code. Please verify the email address is correct and registered.
</Callout>

---

## Password Reset Flow

<div className="rounded-lg border border-amber-500/30 bg-background p-6 mb-6">
  <h3 className="font-bold mb-4">Complete Password Recovery Process</h3>

  <div className="space-y-6">
    <div className="flex items-start gap-4">
      <div className="flex-shrink-0 w-12 h-12 rounded-lg bg-amber-500/20 flex items-center justify-center text-2xl">
        ğŸ”‘
      </div>
      <div>
        <h4 className="font-bold mb-2">Step 1: Request Reset Code</h4>
        <p className="text-sm text-muted-foreground mb-2">
          User enters email address and requests password reset
        </p>
        <div className="rounded-lg border border-amber-500/30 bg-amber-500/5 p-3">
          <code className="text-xs">mutation forgotPassword(email)</code>
        </div>
      </div>
    </div>

    <div className="flex items-start gap-4">
      <div className="flex-shrink-0 w-12 h-12 rounded-lg bg-orange-500/20 flex items-center justify-center text-2xl">
        ğŸ“§
      </div>
      <div>
        <h4 className="font-bold mb-2">Step 2: Receive Code</h4>
        <p className="text-sm text-muted-foreground mb-2">
          System sends 6-digit reset code to registered email address
        </p>
        <div className="flex flex-wrap gap-2">
          <span className="inline-flex items-center rounded-full bg-orange-500/10 px-3 py-1 text-xs font-semibold text-orange-700 dark:text-orange-300">6-digit code</span>
          <span className="inline-flex items-center rounded-full bg-orange-500/10 px-3 py-1 text-xs font-semibold text-orange-700 dark:text-orange-300">Time-limited</span>
        </div>
      </div>
    </div>

    <div className="flex items-start gap-4">
      <div className="flex-shrink-0 w-12 h-12 rounded-lg bg-yellow-500/20 flex items-center justify-center text-2xl">
        ğŸ”
      </div>
      <div>
        <h4 className="font-bold mb-2">Step 3: Reset Password</h4>
        <p className="text-sm text-muted-foreground mb-2">
          User enters code and new password to complete reset
        </p>
        <div className="rounded-lg border border-yellow-500/30 bg-yellow-500/5 p-3">
          <code className="text-xs">â†’ resetPassword(email, code, newPassword)</code>
        </div>
      </div>
    </div>
  </div>
</div>

---

## Implementation Example

<div className="rounded-xl border border-amber-500/30 bg-background p-6 my-6">
  <h3 className="font-bold mb-4">Frontend Integration</h3>

```javascript
async function handleForgotPassword(email) {
  try {
    const result = await graphqlClient.mutate({
      mutation: gql`
        mutation ForgotPassword($email: String!) {
          forgotPassword(email: $email)
        }
      `,
      variables: {
        email: email
      }
    });

    const response = result.data.forgotPassword;

    if (response === "Success") {
      // Show success message
      showSuccess("Password reset code sent to your email!");

      // Store email for next step
      sessionStorage.setItem('resetEmail', email);

      // Redirect to reset password page
      router.push('/reset-password');

      // Show instructions
      showInfo("Check your email for the 6-digit reset code. Enter it on the next page along with your new password.");

    } else {
      // Handle failure
      showError("Failed to send reset code. Please check your email and try again.");
    }

  } catch (error) {
    console.error("Forgot password failed:", error);
    showError("An error occurred. Please try again later.");
  }
}

// Email validation before submission
function validateEmail(email) {
  const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
  return emailRegex.test(email);
}
```

</div>

---

## Use Cases

<div className="grid gap-4 md:grid-cols-2 my-6">
  <Card className="p-6 hover:shadow-lg transition-shadow">
    <div className="text-3xl mb-3">ğŸ”‘</div>
    <h3 className="font-bold mb-2">Forgotten Password</h3>
    <p className="text-sm text-muted-foreground">
      User cannot remember their password and needs to reset it to regain access
    </p>
  </Card>

  <Card className="p-6 hover:shadow-lg transition-shadow">
    <div className="text-3xl mb-3">ğŸ”’</div>
    <h3 className="font-bold mb-2">Security Breach</h3>
    <p className="text-sm text-muted-foreground">
      User suspects account compromise and wants to immediately change password
    </p>
  </Card>

  <Card className="p-6 hover:shadow-lg transition-shadow">
    <div className="text-3xl mb-3">ğŸ”„</div>
    <h3 className="font-bold mb-2">Password Update</h3>
    <p className="text-sm text-muted-foreground">
      Regular password rotation for security best practices
    </p>
  </Card>

  <Card className="p-6 hover:shadow-lg transition-shadow">
    <div className="text-3xl mb-3">ğŸš«</div>
    <h3 className="font-bold mb-2">Locked Out</h3>
    <p className="text-sm text-muted-foreground">
      Multiple failed login attempts and user needs alternative access method
    </p>
  </Card>
</div>

---

## Best Practices

<div className="space-y-4 my-6">
  <div className="rounded-lg border-l-4 border-amber-500 bg-amber-500/10 p-4">
    <h4 className="font-bold text-amber-700 dark:text-amber-300 mb-1">ğŸ“§ Email Validation</h4>
    <p className="text-sm text-amber-900 dark:text-amber-200">
      Validate email format client-side before submission to prevent unnecessary requests
    </p>
  </div>

  <div className="rounded-lg border-l-4 border-orange-500 bg-orange-500/10 p-4">
    <h4 className="font-bold text-orange-700 dark:text-orange-300 mb-1">â±ï¸ Rate Limiting</h4>
    <p className="text-sm text-orange-900 dark:text-orange-200">
      Implement client-side rate limiting to prevent spam requests (e.g., 1 request per minute)
    </p>
  </div>

  <div className="rounded-lg border-l-4 border-yellow-500 bg-yellow-500/10 p-4">
    <h4 className="font-bold text-yellow-700 dark:text-yellow-300 mb-1">ğŸ” Privacy Protection</h4>
    <p className="text-sm text-yellow-900 dark:text-yellow-200">
      Don't reveal whether email exists in system - always show generic success message for security
    </p>
  </div>

  <div className="rounded-lg border-l-4 border-amber-500 bg-amber-500/10 p-4">
    <h4 className="font-bold text-amber-700 dark:text-amber-300 mb-1">ğŸ“± Check Spam Folder</h4>
    <p className="text-sm text-amber-900 dark:text-amber-200">
      Remind users to check spam/junk folder if they don't receive the reset code
    </p>
  </div>

  <div className="rounded-lg border-l-4 border-orange-500 bg-orange-500/10 p-4">
    <h4 className="font-bold text-orange-700 dark:text-orange-300 mb-1">ğŸ”„ Session Storage</h4>
    <p className="text-sm text-orange-900 dark:text-orange-200">
      Store email in session storage to pre-fill on reset page and improve UX
    </p>
  </div>
</div>

---

## Security Features

<div className="rounded-lg border border-amber-500/30 bg-gradient-to-br from-amber-500/10 to-yellow-500/5 p-6 mb-6">
  <div className="flex items-center gap-3 mb-4">
    <span className="text-2xl">ğŸ”’</span>
    <div>
      <div className="font-bold text-lg">Built-in Security Protections</div>
      <div className="text-sm text-muted-foreground">Password reset safeguards</div>
    </div>
  </div>

  <div className="space-y-3">
    <div className="flex gap-3 items-start">
      <span className="text-green-600 dark:text-green-400 mt-0.5">âœ“</span>
      <div className="text-sm">
        <span className="font-semibold">Time-Limited Codes:</span> Reset codes expire after a short period for security
      </div>
    </div>
    <div className="flex gap-3 items-start">
      <span className="text-green-600 dark:text-green-400 mt-0.5">âœ“</span>
      <div className="text-sm">
        <span className="font-semibold">Rate Limiting:</span> Server-side rate limiting prevents brute force attempts
      </div>
    </div>
    <div className="flex gap-3 items-start">
      <span className="text-green-600 dark:text-green-400 mt-0.5">âœ“</span>
      <div className="text-sm">
        <span className="font-semibold">Email Ownership:</span> Code sent only to registered email proves account ownership
      </div>
    </div>
    <div className="flex gap-3 items-start">
      <span className="text-green-600 dark:text-green-400 mt-0.5">âœ“</span>
      <div className="text-sm">
        <span className="font-semibold">One-Time Use:</span> Each reset code can only be used once and becomes invalid after use
      </div>
    </div>
  </div>
</div>

---

## Related Operations

<Cards>
  <Card title="Reset Password" href="/docs/api/registration/password-reset">
    Complete password reset with code
  </Card>
  <Card title="Sign In" href="/docs/api/registration/sign-in">
    Authenticate with new password
  </Card>
  <Card title="Sign Up" href="/docs/api/registration/sign-up">
    Create new account
  </Card>
</Cards>

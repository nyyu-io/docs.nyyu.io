"use strict";(self.webpackChunkdocs_orbvpn_com=self.webpackChunkdocs_orbvpn_com||[]).push([[9217],{9580:(e,r,a)=>{a.r(r),a.d(r,{assets:()=>o,contentTitle:()=>d,default:()=>h,frontMatter:()=>i,metadata:()=>s,toc:()=>l});var t=a(4848),n=a(8453);const i={},d=void 0,s={id:"api/Presale Payment/Pay For Presale with Stripe Saved Card",title:"Pay For Presale with Stripe Saved Card",description:"The payStripeForPreSaleWithSavedCard mutation allows a user to pay for a presale order using a saved card with Stripe.",source:"@site/docs/api/Presale Payment/Pay For Presale with Stripe Saved Card.md",sourceDirName:"api/Presale Payment",slug:"/api/Presale Payment/Pay For Presale with Stripe Saved Card",permalink:"/docs/api/Presale Payment/Pay For Presale with Stripe Saved Card",draft:!1,unlisted:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/api/Presale Payment/Pay For Presale with Stripe Saved Card.md",tags:[],version:"current",frontMatter:{},sidebar:"apiSidebar",previous:{title:"Pay For Presale Order With Nyyu Wallet",permalink:"/docs/api/Presale Payment/Pay For Presale Order With Nyyu Wallet"},next:{title:"Pay for presale with PayPal",permalink:"/docs/api/Presale Payment/Pay for presale with PayPal"}},o={},l=[{value:"Mutation: <code>payStripeForPreSaleWithSavedCard</code>",id:"mutation-paystripeforpresalewithsavedcard",level:3},{value:"Schema:",id:"schema",level:4},{value:"Parameters",id:"parameters",level:4},{value:"Return",id:"return",level:4},{value:"Example Mutation",id:"example-mutation",level:3},{value:"Note",id:"note",level:3}];function c(e){const r={code:"code",h3:"h3",h4:"h4",li:"li",p:"p",pre:"pre",ul:"ul",...(0,n.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(r.p,{children:["The ",(0,t.jsx)(r.code,{children:"payStripeForPreSaleWithSavedCard"})," mutation allows a user to pay for a presale order using a saved card with Stripe."]}),"\n",(0,t.jsxs)(r.h3,{id:"mutation-paystripeforpresalewithsavedcard",children:["Mutation: ",(0,t.jsx)(r.code,{children:"payStripeForPreSaleWithSavedCard"})]}),"\n",(0,t.jsx)(r.h4,{id:"schema",children:"Schema:"}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-graphql",children:"payStripeForPreSaleWithSavedCard(\n  id: Int,\n  presaleId: Int!,\n  orderId: Int!,\n  amount: Float!,\n  fiatAmount: Float!,\n  fiatType: String!,\n  cardId: Int!,\n  paymentIntentId: String!\n): PayResponse\n"})}),"\n",(0,t.jsx)(r.h4,{id:"parameters",children:"Parameters"}),"\n",(0,t.jsxs)(r.ul,{children:["\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.code,{children:"id"})," (Int): The payment ID. This is ",(0,t.jsx)(r.code,{children:"null"})," for the first call."]}),"\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.code,{children:"presaleId"})," (Int): The ID of the presale. This field is mandatory."]}),"\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.code,{children:"orderId"})," (Int): The ID of the order to pay for. This field is mandatory."]}),"\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.code,{children:"amount"})," (Float): The amount to pay. This field is mandatory."]}),"\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.code,{children:"fiatAmount"})," (Float): The amount to pay in the specified currency. This field is mandatory."]}),"\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.code,{children:"fiatType"})," (String): The currency type to pay in. This field is mandatory."]}),"\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.code,{children:"cardId"})," (Int): The ID of the saved card to use for the payment. This field is mandatory."]}),"\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.code,{children:"paymentIntentId"})," (String): The payment intent ID from Stripe. This field is mandatory."]}),"\n"]}),"\n",(0,t.jsx)(r.h4,{id:"return",children:"Return"}),"\n",(0,t.jsxs)(r.p,{children:["The mutation returns a ",(0,t.jsx)(r.code,{children:"PayResponse"})," object."]}),"\n",(0,t.jsx)(r.h3,{id:"example-mutation",children:"Example Mutation"}),"\n",(0,t.jsxs)(r.p,{children:["The following is an example of how to use the ",(0,t.jsx)(r.code,{children:"payStripeForPreSaleWithSavedCard"})," mutation to pay for a presale order using a saved card with Stripe:"]}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-graphql",children:'mutation {\n  payStripeForPreSaleWithSavedCard(\n    id: null,\n    presaleId: 1,\n    orderId: 123,\n    amount: 500.0,\n    fiatAmount: 500.0,\n    fiatType: "USD",\n    cardId: 456,\n    paymentIntentId: "pi_1Fxxxxx"\n  ) {\n    clientSecret,\n    paymentIntentId,\n    requiresAction,\n    error\n  }\n}\n'})}),"\n",(0,t.jsx)(r.h3,{id:"note",children:"Note"}),"\n",(0,t.jsxs)(r.ul,{children:["\n",(0,t.jsxs)(r.li,{children:["This mutation is similar to ",(0,t.jsx)(r.code,{children:"payStripeForPreSale"})," but uses ",(0,t.jsx)(r.code,{children:"cardId"})," instead of ",(0,t.jsx)(r.code,{children:"paymentMethodId"})," and omits the ",(0,t.jsx)(r.code,{children:"isSavedCard"})," flag."]}),"\n"]}),"\n",(0,t.jsxs)(r.p,{children:["In this example, the mutation initiates a payment for the presale order with ID ",(0,t.jsx)(r.code,{children:"123"})," in the presale with ID ",(0,t.jsx)(r.code,{children:"1"}),". The amount to pay is ",(0,t.jsx)(r.code,{children:"500.0"})," in USD. The ",(0,t.jsx)(r.code,{children:"cardId"})," is used to specify the saved card, and the ",(0,t.jsx)(r.code,{children:"paymentIntentId"})," is obtained from Stripe. The return value includes the ",(0,t.jsx)(r.code,{children:"PayResponse"})," details such as ",(0,t.jsx)(r.code,{children:"clientSecret"}),", ",(0,t.jsx)(r.code,{children:"paymentIntentId"}),", ",(0,t.jsx)(r.code,{children:"requiresAction"}),", and ",(0,t.jsx)(r.code,{children:"error"}),"."]})]})}function h(e={}){const{wrapper:r}={...(0,n.R)(),...e.components};return r?(0,t.jsx)(r,{...e,children:(0,t.jsx)(c,{...e})}):c(e)}},8453:(e,r,a)=>{a.d(r,{R:()=>d,x:()=>s});var t=a(6540);const n={},i=t.createContext(n);function d(e){const r=t.useContext(i);return t.useMemo((function(){return"function"==typeof e?e(r):{...r,...e}}),[r,e])}function s(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:d(e.components),t.createElement(i.Provider,{value:r},e.children)}}}]);
"use strict";(self.webpackChunkdocs_orbvpn_com=self.webpackChunkdocs_orbvpn_com||[]).push([[9854],{4453:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>o,default:()=>h,frontMatter:()=>r,metadata:()=>a,toc:()=>c});var i=t(4848),s=t(8453);const r={id:"request-2fa",title:"Request 2FA",sidebar_label:"Request 2FA",sidebar_position:4},o=void 0,a={id:"api/registration/request-2fa",title:"Request 2FA",description:"The request2FA mutation is used to request two-factor authentication (2FA) for a registered and verified account. The user can choose from various methods such as Google Authentication app, email code, or SMS code.",source:"@site/docs/api/registration/request-2fa.md",sourceDirName:"api/registration",slug:"/api/registration/request-2fa",permalink:"/docs/api/registration/request-2fa",draft:!1,unlisted:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/api/registration/request-2fa.md",tags:[],version:"current",sidebarPosition:4,frontMatter:{id:"request-2fa",title:"Request 2FA",sidebar_label:"Request 2FA",sidebar_position:4},sidebar:"apiSidebar",previous:{title:"Resend Verification Code",permalink:"/docs/api/registration/resend-verification-code"},next:{title:"Confirm 2FA Setting",permalink:"/docs/api/registration/confirm-2fa-setting"}},d={},c=[{value:"Mutation: <code>request2FA</code>",id:"mutation-request2fa",level:3},{value:"Schema:",id:"schema",level:4},{value:"Parameters",id:"parameters",level:4},{value:"Return",id:"return",level:4},{value:"Example Mutation",id:"example-mutation",level:3}];function l(e){const n={code:"code",h3:"h3",h4:"h4",li:"li",p:"p",pre:"pre",ul:"ul",...(0,s.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(n.code,{children:"request2FA"})," mutation is used to request two-factor authentication (2FA) for a registered and verified account. The user can choose from various methods such as Google Authentication app, email code, or SMS code."]}),"\n",(0,i.jsxs)(n.h3,{id:"mutation-request2fa",children:["Mutation: ",(0,i.jsx)(n.code,{children:"request2FA"})]}),"\n",(0,i.jsx)(n.h4,{id:"schema",children:"Schema:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-graphql",children:"request2FA(\n  email: String!,\n  method: String!,\n  phone: String\n): String!\n"})}),"\n",(0,i.jsx)(n.h4,{id:"parameters",children:"Parameters"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"email"})," (String): The user's email address. This field is mandatory."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"method"})," (String): The method for 2FA. This field is mandatory and can have the following values:","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:'"app"'}),": Google Authentication app."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:'"email"'}),": Email code."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:'"phone"'}),": SMS code."]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"phone"})," (String): The phone number for SMS code. This field is optional and should be provided only if the method is ",(0,i.jsx)(n.code,{children:'"phone"'}),"."]}),"\n"]}),"\n",(0,i.jsx)(n.h4,{id:"return",children:"Return"}),"\n",(0,i.jsx)(n.p,{children:"The mutation returns a string based on the selected 2FA method:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:'"app"'}),": A QR code image for setting up Google Authentication."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:'"email"'}),": Indicates that the verification code has been sent via email."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:'"phone"'}),": Indicates that the verification code has been sent via SMS."]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["If there is an error, it will return ",(0,i.jsx)(n.code,{children:'"error"'})," or ",(0,i.jsx)(n.code,{children:'"Not verified"'})," exception."]}),"\n",(0,i.jsx)(n.p,{children:"Exception: Indicates an error in the request process with the specific message:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:'"Cannot find user by  + ${email}"'}),": The email address is not registered in the system."]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"example-mutation",children:"Example Mutation"}),"\n",(0,i.jsxs)(n.p,{children:["The following is an example of how to use the ",(0,i.jsx)(n.code,{children:"request2FA"})," mutation to request 2FA using the phone method:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-graphql",children:'mutation {\n  request2FA(\n    email: "demouser@nyyu.io",\n    method: "phone",\n    phone: "+4478911223344"\n  )\n}\n'})}),"\n",(0,i.jsxs)(n.p,{children:["In this example, the mutation attempts to request 2FA for the user with the email address ",(0,i.jsx)(n.code,{children:"demouser@nyyu.io"})," using the phone method, with the phone number ",(0,i.jsx)(n.code,{children:"+4478911223344"}),". The return value will indicate whether the QR code image, email code, or SMS code was sent, or if there was an error such as the user not being registered."]})]})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>o,x:()=>a});var i=t(6540);const s={},r=i.createContext(s);function o(e){const n=i.useContext(r);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),i.createElement(r.Provider,{value:n},e.children)}}}]);
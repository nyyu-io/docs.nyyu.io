import cloneDeepWith from 'lodash/cloneDeepWith.js';
import defaults from 'lodash/defaultsDeep.js';
import { cloneElement, isValidElement, useMemo } from 'react';
// defaults only merges the first level of properties, we need to make sure that
// deeper nested properties are merged as well.
export function useDefaults(options, defaultOptions) {
    return useMemo(
    // cloning options as defaultsDeep mutates the first argument
    () => defaults(cloneDeepWith(options, (value) => {
        // don't clone React elements with lodash, they won't render properly after
        if (isValidElement(value)) {
            return cloneElement(value);
        }
    }), defaultOptions), [defaultOptions, options]);
}
//# sourceMappingURL=useDefaults.js.map